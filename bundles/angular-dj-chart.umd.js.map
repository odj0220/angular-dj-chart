{"version":3,"file":"angular-dj-chart.umd.js","sources":["../../../projects/angular-dj-chart/src/lib/angular-dj-chart.service.ts","../../../node_modules/tslib/tslib.es6.js","../../../projects/angular-dj-chart/src/lib/base/dc-chart.ts","../../../projects/angular-dj-chart/src/lib/base/base-mixin.ts","../../../projects/angular-dj-chart/src/lib/chart/cloud-chart.ts","../../../projects/angular-dj-chart/src/lib/base/color-mixin.ts","../../../projects/angular-dj-chart/src/lib/base/margin-mixin.ts","../../../projects/angular-dj-chart/src/lib/base/coordinate-grid-mixin.ts","../../../projects/angular-dj-chart/src/lib/chart/multi-chart.ts","../../../projects/angular-dj-chart/src/lib/chart/dj-chart.ts","../../../projects/angular-dj-chart/src/lib/angular-dj-chart.component.ts","../../../projects/angular-dj-chart/src/lib/angular-dj-chart.module.ts","../../../projects/angular-dj-chart/src/lib/class/axis-option.ts","../../../projects/angular-dj-chart/src/lib/class/dj-chart-option.ts","../../../projects/angular-dj-chart/src/public-api.ts","../../../projects/angular-dj-chart/src/angular-dj-chart.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AngularDjChartService {\n\n  constructor() { }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || from);\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","import * as dc from 'dc';\n\nexport class DcChart {\n\n  constructor() {\n    Object.keys(dc).forEach(key => {\n      // @ts-ignore\n      this[key] = dc[key];\n    });\n  }\n}\n","import {select} from 'd3-selection';\nimport {dispatch} from 'd3-dispatch';\n\nimport {pluck, utils, instanceOfChart, deregisterChart, redrawAll, registerChart, renderAll, events, logger, printers} from 'dc';\nimport {ElementRef} from '@angular/core';\n\nclass InvalidStateException extends Error {}\nclass BadArgumentException extends Error {}\n\nconst constants = {\n  CHART_CLASS: 'dc-chart',\n  DEBUG_GROUP_CLASS: 'debug',\n  STACK_CLASS: 'stack',\n  DESELECTED_CLASS: 'deselected',\n  SELECTED_CLASS: 'selected',\n  NODE_INDEX_NAME: '__index__',\n  GROUP_INDEX_NAME: '__group_index__',\n  DEFAULT_CHART_GROUP: '__default_chart_group__',\n  EVENT_DELAY: 40,\n  NEGLIGIBLE_NUMBER: 1e-10\n};\n\n\nconst _defaultFilterHandler = (dimension: any, filters: Array<any>) => {\n  if (filters.length === 0) {\n    dimension.filter(null);\n  } else if (filters.length === 1 && !filters[0].isFiltered) {\n    // single value and not a function-based filter\n    dimension.filterExact(filters[0]);\n  } else if (filters.length === 1 && filters[0].filterType === 'RangedFilter') {\n    // single range-based filter\n    dimension.filterRange(filters[0]);\n  } else {\n    dimension.filterFunction( (d: any) => {\n      for (let i = 0; i < filters.length; i++) {\n        const filter = filters[i];\n        if (filter.isFiltered) {\n          if (filter.isFiltered(d)) {\n            return true;\n          }\n        } else if (filter <= d && filter >= d) {\n          return true;\n        }\n      }\n      return false;\n    });\n  }\n  return filters;\n};\n\nconst _defaultHasFilterHandler = (filters: Array<any>, filter: any) => {\n  if (filter === null || typeof (filter) === 'undefined') {\n    return filters.length > 0;\n  }\n  return filters.some(f => filter <= f && filter >= f);\n};\n\nconst _defaultRemoveFilterHandler = (filters: Array<any>, filter: any) => {\n  for (let i = 0; i < filters.length; i++) {\n    if (filters[i] <= filter && filters[i] >= filter) {\n      filters.splice(i, 1);\n      break;\n    }\n  }\n  return filters;\n};\n\nconst _defaultAddFilterHandler = (filters: Array<any>, filter: any) => {\n  filters.push(filter);\n  return filters;\n};\n\nconst _defaultResetFilterHandler = (filters: Array<any>) => [];\n\nexport class BaseMixin {\n  __dcFlag__;\n  _dimension: undefined;\n  _group: undefined;\n  _groupName: any;\n  _anchor: string | undefined;\n  // @ts-ignore\n  _root;\n  // @ts-ignore\n  _svg;\n  _isChild: boolean | undefined;\n  _minWidth;\n  // @ts-ignore\n  _defaultWidthCalc;\n  _widthCalc;\n  _minHeight;\n  // @ts-ignore\n  _defaultHeightCalc;\n  _heightCalc;\n  _width: any;\n  _height: any;\n  _useViewBoxResizing;\n  _keyAccessor;\n  _valueAccessor;\n  _label;\n  _ordering;\n  _renderLabel;\n  // @ts-ignore\n  _title;\n  _renderTitle: any;\n  _controlsUseVisibility;\n  _transitionDuration;\n  _transitionDelay;\n  _filterPrinter;\n  // @ts-ignore\n  _mandatoryAttributesList;\n  _chartGroup;\n  // @ts-ignore\n  _listeners;\n\n  // @ts-ignore\n  _legend;\n  // @ts-ignore\n  _commitHandler;\n\n  // @ts-ignore\n  _defaultData;\n  _data;\n\n  _filters: any[];\n\n  _filterHandler = _defaultFilterHandler;\n  _hasFilterHandler = _defaultHasFilterHandler;\n  _removeFilterHandler = _defaultRemoveFilterHandler;\n  _addFilterHandler = _defaultAddFilterHandler;\n  _resetFilterHandler = _defaultResetFilterHandler;\n\n  constructor () {\n    this.__dcFlag__ = utils.uniqueId();\n\n    this._dimension = undefined;\n    this._group = undefined;\n\n    this._anchor = undefined;\n    this._root = undefined;\n    this._svg = undefined;\n    this._isChild = undefined;\n\n    this._minWidth = 100;\n    this._defaultWidthCalc = (element: Element) => {\n      const width = element && element.getBoundingClientRect && element.getBoundingClientRect().width;\n      return (width && width > this._minWidth) ? width : this._minWidth;\n    };\n    this._widthCalc = this._defaultWidthCalc;\n\n    this._minHeight = 100;\n    this._defaultHeightCalc = (element: Element) => {\n      const height = element && element.getBoundingClientRect && element.getBoundingClientRect().height;\n      return (height && height > this._minHeight) ? height : this._minHeight;\n    };\n    this._heightCalc = this._defaultHeightCalc;\n    this._useViewBoxResizing = false;\n\n    this._keyAccessor = pluck('key');\n    this._valueAccessor = pluck('value');\n    this._label = pluck('key');\n\n    this._ordering = pluck('key');\n\n    this._renderLabel = false;\n\n    // @ts-ignore\n    this._title = d => `${this.keyAccessor()(d)}: ${this.valueAccessor()(d)}`;\n    this._renderTitle = true;\n    this._controlsUseVisibility = false;\n\n    this._transitionDuration = 750;\n\n    this._transitionDelay = 0;\n\n    this._filterPrinter = printers.filters;\n\n    this._mandatoryAttributesList = ['dimension', 'group'];\n\n    this._chartGroup = constants.DEFAULT_CHART_GROUP;\n\n    this._listeners = dispatch(\n      'preRender',\n      'postRender',\n      'preRedraw',\n      'postRedraw',\n      'filtered',\n      'zoomed',\n      'renderlet',\n      'pretransition');\n\n    this._legend = undefined;\n    this._commitHandler = undefined;\n\n    this._defaultData = (group: any) => group.all();\n    this._data = this._defaultData;\n\n    this._filters = [];\n  }\n\n  height (height?: any) {\n    if (height === undefined) {\n      if (!utils.isNumber(this._height)) {\n        // only calculate once\n        this._height = this._heightCalc(this._root.node());\n      }\n      return this._height;\n    }\n    this._heightCalc = height ? (typeof height === 'function' ? height : utils.constant(height)) : this._defaultHeightCalc;\n    this._height = undefined;\n    return this;\n  }\n\n  width (width?: any) {\n    if (width === undefined) {\n      if (!utils.isNumber(this._width)) {\n        // only calculate once\n        this._width = this._widthCalc(this._root.node());\n      }\n      return this._width;\n    }\n    this._widthCalc = width ? (typeof width === 'function' ? width : utils.constant(width)) : this._defaultWidthCalc;\n    this._width = undefined;\n    return this;\n  }\n\n  minWidth (minWidth?: any) {\n    if (minWidth === undefined) {\n      return this._minWidth;\n    }\n    this._minWidth = minWidth;\n    return this;\n  }\n\n  minHeight (minHeight?: any) {\n    if (minHeight === undefined) {\n      return this._minHeight;\n    }\n    this._minHeight = minHeight;\n    return this;\n  }\n\n  useViewBoxResizing (useViewBoxResizing?: any) {\n    if (useViewBoxResizing === undefined) {\n      return this._useViewBoxResizing;\n    }\n    this._useViewBoxResizing = useViewBoxResizing;\n    return this;\n  }\n\n  dimension (dimension?: any) {\n    if (dimension === undefined) {\n      return this._dimension;\n    }\n    this._dimension = dimension;\n    this.expireCache();\n    return this;\n  }\n\n  data (callback?: any) {\n    if (callback === undefined) {\n      return this._data(this._group);\n    }\n    this._data = typeof callback === 'function' ? callback : utils.constant(callback);\n    this.expireCache();\n    return this;\n  }\n\n  group (group?: any, name?: string) {\n    if (group === undefined) {\n      return this._group;\n    }\n    this._group = group;\n    this._groupName = name;\n    this.expireCache();\n    return this;\n  }\n\n  ordering (orderFunction?: any) {\n    if (orderFunction === undefined) {\n      return this._ordering;\n    }\n    this._ordering = orderFunction;\n    this.expireCache();\n    return this;\n  }\n\n  _computeOrderedGroups (data: any) {\n    // clone the array before sorting, otherwise Array.sort sorts in-place\n    return Array.from(data).sort((a, b) => this._ordering(a) - this._ordering(b));\n  }\n\n  filterAll () {\n    return this.filter(null);\n  }\n\n  select (sel: any) {\n    return this._root.select(sel);\n  }\n\n  selectAll (sel: any) {\n    return this._root ? this._root.selectAll(sel) : null;\n  }\n\n  anchor (parent?: any, chartGroup?: any) {\n    if (parent === undefined) {\n      return this._anchor;\n    }\n    if (instanceOfChart(parent)) {\n      this._anchor = parent.anchor();\n      // @ts-ignore\n      if (this._anchor.children) { // is _anchor a div?\n        this._anchor = `#${parent.anchorName()}`;\n      }\n      this._root = parent.root();\n      this._isChild = true;\n    } else if (parent) {\n      if (parent.select && parent.classed) { // detect d3 selection\n        this._anchor = parent.node();\n      } else {\n        this._anchor = parent;\n      }\n      // @ts-ignore\n      this._root = select(this._anchor);\n      this._root.classed(constants.CHART_CLASS, true);\n      // @ts-ignore\n      registerChart(this, chartGroup);\n      this._isChild = false;\n    } else {\n      throw new BadArgumentException('parent must be defined');\n    }\n    this._chartGroup = chartGroup;\n    return this;\n  }\n\n  anchorName () {\n    const a: any = this.anchor();\n    if (a && a.id) {\n      return a.id;\n    }\n    if (a && a.replace) {\n      return a.replace('#', '');\n    }\n    return `dc-chart${this.chartID()}`;\n  }\n\n  root (rootElement?: any) {\n    if (rootElement === undefined) {\n      return this._root;\n    }\n    this._root = rootElement;\n    return this;\n  }\n\n  svg (svgElement?: any) {\n    if (svgElement === undefined) {\n      return this._svg;\n    }\n    this._svg = svgElement;\n    return this;\n  }\n\n  resetSvg () {\n    this.select('svg').remove();\n    return this.generateSvg();\n  }\n\n  sizeSvg () {\n    if (this._svg) {\n      if (!this._useViewBoxResizing) {\n        this._svg\n          .attr('width', this.width())\n          .attr('height', this.height());\n      } else if (!this._svg.attr('viewBox')) {\n        this._svg\n          .attr('viewBox', `0 0 ${this.width()} ${this.height()}`);\n      }\n    }\n  }\n\n  generateSvg () {\n    this._svg = this.root().append('svg');\n    this.sizeSvg();\n    return this._svg;\n  }\n\n  filterPrinter (filterPrinterFunction?: any) {\n    if (filterPrinterFunction === undefined) {\n      return this._filterPrinter;\n    }\n    this._filterPrinter = filterPrinterFunction;\n    return this;\n  }\n\n  controlsUseVisibility (controlsUseVisibility?: any) {\n    if (controlsUseVisibility === undefined) {\n      return this._controlsUseVisibility;\n    }\n    this._controlsUseVisibility = controlsUseVisibility;\n    return this;\n  }\n\n  turnOnControls () {\n    if (this._root) {\n      const attribute = this.controlsUseVisibility() ? 'visibility' : 'display';\n      this.selectAll('.reset').style(attribute, null);\n      this.selectAll('.filter').text(this._filterPrinter(this.filters())).style(attribute, null);\n    }\n    return this;\n  }\n\n  turnOffControls () {\n    if (this._root) {\n      const attribute = this.controlsUseVisibility() ? 'visibility' : 'display';\n      const value = this.controlsUseVisibility() ? 'hidden' : 'none';\n      this.selectAll('.reset').style(attribute, value);\n      this.selectAll('.filter').style(attribute, value).text(this.filter());\n    }\n    return this;\n  }\n\n\n  transitionDuration (duration?: any) {\n    if (duration === undefined) {\n      return this._transitionDuration;\n    }\n    this._transitionDuration = duration;\n    return this;\n  }\n\n\n  transitionDelay (delay?: any) {\n    if (delay === undefined) {\n      return this._transitionDelay;\n    }\n    this._transitionDelay = delay;\n    return this;\n  }\n\n  _mandatoryAttributes (_?: any) {\n    if (_ === undefined) {\n      return this._mandatoryAttributesList;\n    }\n    this._mandatoryAttributesList = _;\n    return this;\n  }\n\n  checkForMandatoryAttributes (a: string) {\n    // @ts-ignore\n    if (!this[a] || !this[a]()) {\n      throw new InvalidStateException(`Mandatory attribute chart.${a} is missing on chart[#${this.anchorName()}]`);\n    }\n  }\n\n\n  render() {\n    this._height = this._width = undefined; // force recalculate\n    this._listeners.call('preRender', this, this);\n\n    if (this._mandatoryAttributesList) {\n      this._mandatoryAttributesList.forEach((e: any) => this.checkForMandatoryAttributes(e));\n    }\n\n    const result = this._doRender();\n\n    if (this._legend) {\n      this._legend.render();\n    }\n\n    this._activateRenderlets('postRender');\n\n    return result;\n  }\n\n  _activateRenderlets (event: any) {\n    this._listeners.call('pretransition', this, this);\n    if (this.transitionDuration() > 0 && this._svg) {\n      this._svg.transition().duration(this.transitionDuration()).delay(this.transitionDelay())\n        .on('end', () => {\n          this._listeners.call('renderlet', this, this);\n          if (event) {\n            this._listeners.call(event, this, this);\n          }\n        });\n    } else {\n      this._listeners.call('renderlet', this, this);\n      if (event) {\n        this._listeners.call(event, this, this);\n      }\n    }\n  }\n\n\n  redraw () {\n    this.sizeSvg();\n    this._listeners.call('preRedraw', this, this);\n\n    const result = this._doRedraw();\n\n    if (this._legend) {\n      this._legend.render();\n    }\n\n    this._activateRenderlets('postRedraw');\n\n    return result;\n  }\n\n\n  commitHandler (commitHandler?: any) {\n    if (commitHandler === undefined) {\n      return this._commitHandler;\n    }\n    this._commitHandler = commitHandler;\n    return this;\n  }\n\n  redrawGroup () {\n    if (this._commitHandler) {\n      this._commitHandler(false, (error: any, result: any) => {\n        if (error) {\n          console.log(error);\n        } else {\n          // @ts-ignore\n          redrawAll(this.chartGroup());\n        }\n      });\n    } else {\n      // @ts-ignore\n      redrawAll(this.chartGroup());\n    }\n    return this;\n  }\n\n  renderGroup () {\n    if (this._commitHandler) {\n      this._commitHandler(false, (error: any, result: any) => {\n        if (error) {\n          console.log(error);\n        } else {\n          // @ts-ignore\n          renderAll(this.chartGroup());\n        }\n      });\n    } else {\n      // @ts-ignore\n      renderAll(this.chartGroup());\n    }\n    return this;\n  }\n\n  _invokeFilteredListener (f: any) {\n    if (f !== undefined) {\n      this._listeners.call('filtered', this, this, f);\n    }\n  }\n\n  _invokeZoomedListener () {\n    this._listeners.call('zoomed', this, this);\n  }\n\n\n  hasFilterHandler (hasFilterHandler?: any) {\n    if (hasFilterHandler === undefined) {\n      return this._hasFilterHandler;\n    }\n    this._hasFilterHandler = hasFilterHandler;\n    return this;\n  }\n\n  hasFilter (filter?: any) {\n    return this._hasFilterHandler(this._filters, filter);\n  }\n\n\n  removeFilterHandler (removeFilterHandler?: any) {\n    if (removeFilterHandler === undefined) {\n      return this._removeFilterHandler;\n    }\n    this._removeFilterHandler = removeFilterHandler;\n    return this;\n  }\n\n  addFilterHandler (addFilterHandler: any) {\n    if (!arguments.length) {\n      return this._addFilterHandler;\n    }\n    this._addFilterHandler = addFilterHandler;\n    return this;\n  }\n\n\n  resetFilterHandler (resetFilterHandler: any) {\n    if (!arguments.length) {\n      return this._resetFilterHandler;\n    }\n    this._resetFilterHandler = resetFilterHandler;\n    return this;\n  }\n\n  applyFilters (filters: any) {\n    // @ts-ignore\n    if (this.dimension() && this.dimension().filter) {\n      const fs = this._filterHandler(this.dimension(), filters);\n      if (fs) {\n        filters = fs;\n      }\n    }\n    return filters;\n  }\n\n  replaceFilter (filter: any) {\n    this._filters = this._resetFilterHandler(this._filters);\n    this.filter(filter);\n    return this;\n  }\n\n  filter (filter?: any) {\n    if (filter === undefined) {\n      return this._filters.length > 0 ? this._filters[0] : null;\n    }\n    let filters = this._filters;\n    // @ts-ignore\n    if (filter instanceof Array && filter[0] instanceof Array && !filter['isFiltered']) {\n      // toggle each filter\n      filter[0].forEach(f => {\n        if (this._hasFilterHandler(filters, f)) {\n          filters = this._removeFilterHandler(filters, f);\n        } else {\n          filters = this._addFilterHandler(filters, f);\n        }\n      });\n    } else if (filter === null) {\n      filters = this._resetFilterHandler(filters);\n    } else {\n      if (this._hasFilterHandler(filters, filter)) {\n        filters = this._removeFilterHandler(filters, filter);\n      } else {\n        filters = this._addFilterHandler(filters, filter);\n      }\n    }\n    this._filters = this.applyFilters(filters);\n    this._invokeFilteredListener(filter);\n\n    if (this._root !== null && this.hasFilter()) {\n      this.turnOnControls();\n    } else {\n      this.turnOffControls();\n    }\n\n    return this;\n  }\n\n\n  filters () {\n    return this._filters;\n  }\n\n  highlightSelected (e: any) {\n    select(e).classed(constants.SELECTED_CLASS, true);\n    select(e).classed(constants.DESELECTED_CLASS, false);\n  }\n\n  fadeDeselected (e: any) {\n    select(e).classed(constants.SELECTED_CLASS, false);\n    select(e).classed(constants.DESELECTED_CLASS, true);\n  }\n\n  resetHighlight (e: any) {\n    select(e).classed(constants.SELECTED_CLASS, false);\n    select(e).classed(constants.DESELECTED_CLASS, false);\n  }\n\n  onClick (datum?: any, i?: any) {\n    // @ts-ignore\n    const filter = this.keyAccessor()(datum);\n    events.trigger(() => {\n      this.filter(filter);\n      this.redrawGroup();\n    });\n  }\n\n  filterHandler (filterHandler: any) {\n    if (!arguments.length) {\n      return this._filterHandler;\n    }\n    this._filterHandler = filterHandler;\n    return this;\n  }\n\n  // abstract function stub\n  _doRender () {\n    // do nothing in base, should be overridden by sub-function\n    return this;\n  }\n\n  _doRedraw () {\n    // do nothing in base, should be overridden by sub-function\n    return this;\n  }\n\n  legendables () {\n    // do nothing in base, should be overridden by sub-function\n    return [];\n  }\n\n  legendHighlight () {\n    // do nothing in base, should be overridden by sub-function\n  }\n\n  legendReset () {\n    // do nothing in base, should be overridden by sub-function\n  }\n\n  legendToggle () {\n    // do nothing in base, should be overriden by sub-function\n  }\n\n  isLegendableHidden () {\n    // do nothing in base, should be overridden by sub-function\n    return false;\n  }\n\n  keyAccessor (keyAccessor?: any) {\n    if (keyAccessor === undefined) {\n      return this._keyAccessor;\n    }\n    this._keyAccessor = keyAccessor;\n    return this;\n  }\n\n  valueAccessor (valueAccessor?: any) {\n    if (valueAccessor === undefined) {\n      return this._valueAccessor;\n    }\n    this._valueAccessor = valueAccessor;\n    return this;\n  }\n\n\n  label (labelFunction: any, enableLabels: any) {\n    if (!arguments.length) {\n      return this._label;\n    }\n    this._label = labelFunction;\n    if ((enableLabels === undefined) || enableLabels) {\n      this._renderLabel = true;\n    }\n    return this;\n  }\n\n\n  renderLabel (renderLabel: any) {\n    if (!arguments.length) {\n      return this._renderLabel;\n    }\n    this._renderLabel = renderLabel;\n    return this;\n  }\n\n\n  title (titleFunction: any) {\n    if (!arguments.length) {\n      return this._title;\n    }\n    this._title = titleFunction;\n    return this;\n  }\n\n\n  renderTitle (renderTitle: string) {\n    if (!arguments.length) {\n      return this._renderTitle;\n    }\n    this._renderTitle = renderTitle;\n    return this;\n  }\n\n\n  chartGroup (chartGroup?: any) {\n    if (chartGroup === undefined) {\n      return this._chartGroup;\n    }\n    if (!this._isChild) {\n      // @ts-ignore\n      deregisterChart(this, this._chartGroup);\n    }\n    this._chartGroup = chartGroup;\n    if (!this._isChild) {\n      // @ts-ignore\n      registerChart(this, this._chartGroup);\n    }\n    return this;\n  }\n\n  expireCache () {\n    // do nothing in base, should be overridden by sub-function\n    return this;\n  }\n\n  legend (legend?: any) {\n    if (legend === undefined) {\n      return this._legend;\n    }\n    this._legend = legend;\n    this._legend.parent(this);\n    return this;\n  }\n\n  chartID () {\n    return this.__dcFlag__;\n  }\n\n  options (opts: any) {\n    const applyOptions = [\n      'anchor',\n      'group',\n      'xAxisLabel',\n      'yAxisLabel',\n      'stack',\n      'title',\n      'point',\n      'getColor',\n      'overlayGeoJson'\n    ];\n\n    for (const o in opts) {\n      // @ts-ignore\n      if (typeof (this[o]) === 'function') {\n        if (opts[o] instanceof Array && applyOptions.indexOf(o) !== -1) {\n          // @ts-ignore\n          this[o].apply(this, opts[o]);\n        } else {\n          // @ts-ignore\n          this[o].call(this, opts[o]);\n        }\n      } else {\n        logger.debug(`Not a valid option setter name: ${o}`);\n      }\n    }\n    return this;\n  }\n\n  on(event: any, listener: any) {\n    this._listeners.on(event, listener);\n    return this;\n  }\n\n  renderlet (renderletFunction: any) {\n    logger.warnOnce('chart.renderlet has been deprecated. Please use chart.on(\"renderlet.<renderletKey>\", renderletFunction)');\n    this.on(`renderlet.${utils.uniqueId()}`, renderletFunction);\n    return this;\n  }\n}\n","import * as d3 from 'd3';\nimport * as _d3Cloud from 'd3-cloud';\nimport * as _ from 'lodash';\nimport {BaseMixin} from '../base/base-mixin';\nconst d3Cloud = _d3Cloud;\n\n\nexport class CloudChart extends BaseMixin {\n\n  private _scale = [15, 70];\n  private _color = d3.schemeCategory10;\n  private _customColor: any;\n  private _padding = 2;\n  private _legends: any;\n  private _tooltip: any;\n\n  constructor(private element?: any, private option?: any) {\n    super();\n\n    this._width = 100;\n    this._height = 100;\n  }\n\n  render() {\n    if (this.svg()) {\n      // @ts-ignore\n      this.svg().remove();\n    }\n    this.chartRender();\n    return this;\n  }\n\n  redraw() {\n    this.render();\n    return this;\n  }\n\n  width(width?: number) {\n    if (!width) {\n      this._width = this.option.width ? this.option.width : this.element.clientWidth;\n      return this._width;\n    }\n\n    this._width = width;\n    return this;\n  }\n\n  height(height?: number) {\n    if (!height) {\n      this._height = this.option.height ? this.option.height : this.element.clientHeight;\n      return this._height;\n    }\n    this._height = height;\n    return this;\n  }\n\n  legends(object?: any) {\n    if (!object) {\n      return this._legends;\n    }\n    this._legends = object;\n    return this;\n  }\n\n  padding(padding?: any) {\n    if (!padding) {\n      return this._padding;\n    }\n    this._padding = padding;\n    return this;\n  }\n\n  color(color?: any) {\n    if (!color) {\n      return this._customColor ? this._customColor : this._color;\n    }\n    this._customColor = color;\n    return this;\n  }\n\n  dimension(dimension: any) {\n    if (!dimension) {\n      return this._dimension;\n    }\n    this._dimension = dimension;\n    return this;\n  }\n\n  group(object: any) {\n    if (!object) {\n      return this._group;\n    }\n    this._group = object;\n    return this;\n  }\n\n\n\n  private chartRender() {\n    // @ts-ignore\n    const data = this._group.all();\n    const fontScale = d3.scaleLinear().range(this._scale);\n    const domain = [d3.min(data, (d: any) => d.value), d3.max(data, (d: any) => d.value)];\n    // @ts-ignore\n    fontScale.domain(domain);\n\n    // @ts-ignore\n    d3Cloud()\n      .size([this._width, this._height])\n      .words(data)\n      .padding(this._padding)\n      .rotate(0)\n      .font('sans-serif')\n      .text((d: any) => {\n        let key = d.key || d.keys;\n        key = typeof key === 'string' ? key : key[0];\n        if (this._legends && this._legends[key]) {\n          key = this._legends[key];\n        }\n        return key;\n      })\n      .fontSize((d: any) => fontScale(d.value))\n      .on('end', this.draw.bind(this))\n      .start();\n  }\n\n  svg() {\n    // @ts-ignore\n    if (!d3.select(this.element).select('svg')._groups[0][0]) {\n      return ;\n    }\n    return d3.select(this.element).select('svg');\n  }\n\n  private draw(words: any) {\n    const cloud = d3.select(this.element).append('svg')\n      .attr('class', 'wise-chart-cloud')\n      .attr('width', this._width)\n      .attr('height', this._height)\n      .append('g')\n      .attr('transform', 'translate(' + this._width / 2 + ',' + this._height / 2 + ')')\n      .selectAll('text')\n      .data(words)\n      .enter().append('text')\n      .style('font-size', (d: any) => d.size + 'px')\n      .style('font-family', 'sans-serif')\n      .style('fill', (d: any, i: number) => {\n        return this._customColor ? this._customColor[d.key[0]] : this._color[ i % this._color.length];\n      })\n      .style('opacity', (d: any, i) => {\n        if (this['filters']().length) {\n          const filters = this['filters']().map(dd => dd.toString());\n          if (_.includes(filters, d.key.toString())) {\n            return 1;\n          } else {\n            return .1;\n          }\n        } else {\n          return null;\n        }\n      })\n      .attr('text-anchor', 'middle')\n      .attr('transform', (d: any) => 'translate(' + [d.x, d.y] + ')rotate(' + d.rotate + ')')\n      .text((d: any) => d.text);\n\n    // @ts-ignore\n    cloud.on('click', (d: any, i: number) => {\n      const {key, value} = d;\n      this['onClick']({key, value}, i);\n    });\n\n    if (this.option && this.option.tooltip) {\n      const tooltip = this.getTooltipElem();\n      cloud\n        .on('mouseover', data => {\n          // @ts-ignore\n          const screenX = event.view.innerWidth;\n          // @ts-ignore\n          const screenY = event.view.innerHeight;\n          // @ts-ignore\n          const pageX = event.pageX;\n          // @ts-ignore\n          const pageY = event.pageY;\n          const toolX = tooltip.node().clientWidth;\n          const toolY = tooltip.node().clientHeight;\n          let left = 0, top = 0;\n\n          tooltip.transition()\n            .duration(200)\n            .style('opacity', .9);\n          tooltip.html(this.option.tooltip(data));\n\n          setTimeout(() => {\n            if ((screenX - pageX) < tooltip.node().clientWidth) {\n              left = pageX - toolX - 12;\n              tooltip.classed('right', true);\n              tooltip.classed('left', false);\n            } else {\n              left = pageX + 12;\n              tooltip.classed('right', false);\n              tooltip.classed('left', true);\n            }\n\n            if ((screenY - pageY) < tooltip.node().clientHeight) {\n              top = pageY - toolY + 10;\n              tooltip.classed('bottom', true);\n              tooltip.classed('top', false);\n            } else {\n              top = pageY - 10;\n              tooltip.classed('bottom', false);\n              tooltip.classed('top', true);\n            }\n\n            tooltip\n              .style('top', top + 'px')\n              .style('left', left + 'px');\n          });\n        })\n        .on('mouseout', data => {\n          tooltip .transition()\n            .duration(500)\n            .style('opacity', 0);\n        });\n    }\n  }\n\n\n  private getTooltipElem() {\n    if (!this._tooltip || this._tooltip.empty()) {\n      this._tooltip  = d3.select('body')\n        .append('div')\n        .attr('class', 'wise-chart-tooltip')\n        .html('')\n        .style('opacity', 0)\n        .style('position', 'absolute');\n    }\n    return this._tooltip;\n  }\n\n}\n","import {scaleLinear, scaleOrdinal, scaleQuantize} from 'd3-scale';\nimport {interpolateHcl} from 'd3-interpolate';\nimport {max, min} from 'd3-array';\n\nimport * as dc from 'dc';\nconst config = dc['config'];\nconst utils = dc['utils'];\n\nexport const ColorMixin = (Base: any) => class extends Base {\n  constructor () {\n    super();\n\n    // @ts-ignore\n    this._colors = scaleOrdinal(config.defaultColors());\n\n    this._colorAccessor = (d: any) => this.keyAccessor()(d);\n    this._colorCalculator = undefined;\n\n    {\n      const chart = this;\n      chart.getColor = function (d: any, i: any) {\n        return chart._colorCalculator ?\n          chart._colorCalculator.call(this, d, i) :\n          chart._colors(chart._colorAccessor.call(this, d, i));\n      };\n    }\n  }\n\n  calculateColorDomain () {\n    const newDomain = [min(this.data(), this.colorAccessor()),\n      max(this.data(), this.colorAccessor())];\n    this._colors.domain(newDomain);\n    return this;\n  }\n\n  colors (colorScale: any) {\n    if (!arguments.length) {\n      return this._colors;\n    }\n    if (colorScale instanceof Array) {\n      this._colors = scaleQuantize().range(colorScale); // deprecated legacy support, note: this fails for ordinal domains\n    } else {\n      this._colors = typeof colorScale === 'function' ? colorScale : utils.constant(colorScale);\n    }\n    return this;\n  }\n\n  ordinalColors (r: any) {\n    return this.colors(scaleOrdinal().range(r));\n  }\n\n  linearColors (r: any) {\n    // @ts-ignore\n    const scaleLinear = scaleLinear().range(r);\n    scaleLinear.interpolate(interpolateHcl);\n    const colors = this.colors(scaleLinear);\n    return colors\n  }\n\n  colorAccessor (colorAccessor?: any) {\n    if (!colorAccessor) {\n      return this._colorAccessor;\n    }\n    this._colorAccessor = colorAccessor;\n    return this;\n  }\n\n  colorDomain (domain?: any) {\n    if (!domain) {\n      return this._colors.domain();\n    }\n    this._colors.domain(domain);\n    return this;\n  }\n\n  colorCalculator (colorCalculator?: any) {\n    if (!colorCalculator) {\n      return this._colorCalculator || this.getColor;\n    }\n    this._colorCalculator = colorCalculator;\n    return this;\n  }\n};\n","import {BaseMixin} from './base-mixin';\n\nexport class MarginMixin extends BaseMixin {\n  _margin = {\n    top: 10,\n    right: 50,\n    bottom: 30,\n    left: 30\n  };\n\n  constructor () {\n    super();\n  }\n\n  margins (margins?: any) {\n    if (!margins) {\n      return this._margin;\n    }\n    this._margin = margins;\n    return this;\n  }\n\n  effectiveWidth () {\n    // @ts-ignore\n    return this.width() - this.margins().left - this.margins().right;\n  }\n\n  effectiveHeight () {\n    // @ts-ignore\n    return this.height() - this.margins().top - this.margins().bottom;\n  }\n}\n","import {schemeCategory10} from 'd3-scale-chromatic';\nimport {timeDay} from 'd3-time';\nimport {max, min} from 'd3-array';\nimport {scaleBand, scaleLinear, scaleOrdinal} from 'd3-scale';\nimport {axisBottom, axisLeft, axisRight} from 'd3-axis';\nimport {zoom, zoomIdentity} from 'd3-zoom';\nimport {brushX} from 'd3-brush';\nimport {optionalTransition, units, utils, logger, filters, events, transition} from 'dc';\nimport {ColorMixin} from './color-mixin';\nimport {MarginMixin} from './margin-mixin';\n\nconst GRID_LINE_CLASS = 'grid-line';\nconst HORIZONTAL_CLASS = 'horizontal';\nconst VERTICAL_CLASS = 'vertical';\nconst Y_AXIS_LABEL_CLASS = 'y-axis-label';\nconst X_AXIS_LABEL_CLASS = 'x-axis-label';\nconst CUSTOM_BRUSH_HANDLE_CLASS = 'custom-brush-handle';\nconst DEFAULT_AXIS_LABEL_PADDING = 12;\n\nconst constants = {\n  CHART_CLASS: 'dc-chart',\n  DEBUG_GROUP_CLASS: 'debug',\n  STACK_CLASS: 'stack',\n  DESELECTED_CLASS: 'deselected',\n  SELECTED_CLASS: 'selected',\n  NODE_INDEX_NAME: '__index__',\n  GROUP_INDEX_NAME: '__group_index__',\n  DEFAULT_CHART_GROUP: '__default_chart_group__',\n  EVENT_DELAY: 40,\n  NEGLIGIBLE_NUMBER: 1e-10\n};\n\nexport class CoordinateGridMixin extends ColorMixin(MarginMixin) {\n\n  on: any;\n  svg: any;\n  root: any;\n  data: any;\n  width: any;\n  height: any;\n  redraw: any;\n  colors: any;\n  margins: any;\n  anchorName: any;\n  keyAccessor: any;\n  valueAccessor: any;\n  effectiveWidth: any;\n  effectiveHeight: any;\n  transitionDelay: any;\n  transitionDuration: any;\n  replaceFilter: any;\n  redrawGroup: any;\n  resetSvg: any;\n\n  _invokeZoomedListener: any;\n  _computeOrderedGroups: any;\n  _mandatoryAttributes: any;\n  _parent: any;\n  _g: any;\n  _chartBodyG: any;\n  _x: any;\n  _origX: any;\n  _xOriginalDomain: any;\n  _xAxis: any;\n  _xUnits: any;\n  _xAxisPadding: any;\n  _xAxisPaddingUnit: any;\n  _xElasticity: any;\n  _xAxisLabel: any;\n  _xAxisLabelPadding: any;\n  _lastXDomain: any;\n  _y: any;\n  _yAxis: any;\n  _yAxisPadding: any;\n  _yElasticity: any;\n  _yAxisLabel: any;\n  _yAxisLabelPadding: any;\n  _brush: any;\n  _gBrush: any;\n  _brushOn: any;\n  _parentBrushOn: any;\n  _round: any;\n  _renderHorizontalGridLine: any;\n  _renderVerticalGridLine: any;\n  _resizing: any;\n  _unitCount: any;\n  _zoomScale: any;\n  _zoomOutRestrict: any;\n  _zoom: any;\n  _nullZoom: any;\n  _hasBeenMouseZoomable: any;\n  _rangeChart: any;\n  _focusChart: any;\n  _mouseZoomable: any;\n  _clipPadding: any;\n  _fOuterRangeBandPadding: any;\n  _fRangeBandPadding: any;\n  _useRightYAxis: any;\n\n  constructor () {\n    super();\n\n    this.colors(scaleOrdinal(schemeCategory10));\n    this._mandatoryAttributes().push('x');\n    this._parent = undefined;\n    this._g = undefined;\n    this._chartBodyG = undefined;\n    this._x = undefined;\n    this._origX = undefined; // Will hold original scale in case of zoom\n    this._xOriginalDomain = undefined;\n    // @ts-ignore\n    this._xAxis = axisBottom();\n    this._xUnits = units.integers;\n    this._xAxisPadding = 0;\n    this._xAxisPaddingUnit = timeDay;\n    this._xElasticity = false;\n    this._xAxisLabel = undefined;\n    this._xAxisLabelPadding = 0;\n    this._lastXDomain = undefined;\n    this._y = undefined;\n    this._yAxis = null;\n    this._yAxisPadding = 0;\n    this._yElasticity = false;\n    this._yAxisLabel = undefined;\n    this._yAxisLabelPadding = 0;\n    this._brush = brushX();\n    this._gBrush = undefined;\n    this._brushOn = true;\n    this._parentBrushOn = false;\n    this._round = undefined;\n    this._renderHorizontalGridLine = false;\n    this._renderVerticalGridLine = false;\n    this._resizing = false;\n    this._unitCount = undefined;\n    this._zoomScale = [1, Infinity];\n    this._zoomOutRestrict = true;\n    this._zoom = zoom().on('zoom', () => this._onZoom());\n    this._nullZoom = zoom().on('zoom', null);\n    this._hasBeenMouseZoomable = false;\n    this._rangeChart = undefined;\n    this._focusChart = undefined;\n    this._mouseZoomable = false;\n    this._clipPadding = 0;\n    this._fOuterRangeBandPadding = 0.5;\n    this._fRangeBandPadding = 0;\n    this._useRightYAxis = false;\n  }\n\n  rescale () {\n    this._unitCount = undefined;\n    this._resizing = true;\n    return this;\n  }\n\n  resizing (resizing?: any) {\n    if (resizing === undefined) {\n      return this._resizing;\n    }\n    this._resizing = resizing;\n    return this;\n  }\n\n  rangeChart (rangeChart?: any) {\n    if (rangeChart === undefined) {\n      return this._rangeChart;\n    }\n    this._rangeChart = rangeChart;\n    this._rangeChart.focusChart(this);\n    return this;\n  }\n\n  zoomScale (extent?: any) {\n    if (extent === undefined) {\n      return this._zoomScale;\n    }\n    this._zoomScale = extent;\n    return this;\n  }\n\n  zoomOutRestrict (zoomOutRestrict?: any) {\n    if (zoomOutRestrict === undefined) {\n      return this._zoomOutRestrict;\n    }\n    this._zoomOutRestrict = zoomOutRestrict;\n    return this;\n  }\n\n  _generateG (parent?: any) {\n    if (parent === undefined) {\n      this._parent = this.svg();\n    } else {\n      this._parent = parent;\n    }\n\n    const href = window.location.href.split('#')[0];\n\n    this._g = this._parent.append('g');\n\n    this._chartBodyG = this._g.append('g').attr('class', 'chart-body')\n      .attr('transform', `translate(${this.margins().left}, ${this.margins().top})`)\n      .attr('clip-path', `url(${href}#${this._getClipPathId()})`);\n\n    return this._g;\n  }\n\n  g (gElement?: any) {\n    if (gElement === undefined) {\n      return this._g;\n    }\n    this._g = gElement;\n    return this;\n  }\n\n  mouseZoomable (mouseZoomable?: any) {\n    if (mouseZoomable === undefined) {\n      return this._mouseZoomable;\n    }\n    this._mouseZoomable = mouseZoomable;\n    return this;\n  }\n\n  chartBodyG (chartBodyG?: any) {\n    if (chartBodyG === undefined) {\n      return this._chartBodyG;\n    }\n    this._chartBodyG = chartBodyG;\n    return this;\n  }\n\n  x (xScale?: any) {\n    if (xScale === undefined) {\n      return this._x;\n    }\n    this._x = xScale;\n    this._xOriginalDomain = this._x.domain();\n    this.rescale();\n    return this;\n  }\n\n  xOriginalDomain () {\n    return this._xOriginalDomain;\n  }\n\n  xUnits (xUnits?: any) {\n    if (xUnits === undefined) {\n      return this._xUnits;\n    }\n    this._xUnits = xUnits;\n    return this;\n  }\n\n  xAxis (xAxis?: any) {\n    if (xAxis === undefined) {\n      return this._xAxis;\n    }\n    this._xAxis = xAxis;\n    return this;\n  }\n\n  elasticX (elasticX?: any) {\n    if (elasticX === undefined) {\n      return this._xElasticity;\n    }\n    this._xElasticity = elasticX;\n    return this;\n  }\n\n  xAxisPadding (padding?: any) {\n    if (padding === undefined) {\n      return this._xAxisPadding;\n    }\n    this._xAxisPadding = padding;\n    return this;\n  }\n\n  xAxisPaddingUnit (unit?: any) {\n    if (unit === undefined) {\n      return this._xAxisPaddingUnit;\n    }\n    this._xAxisPaddingUnit = unit;\n    return this;\n  }\n\n  xUnitCount () {\n    if (this._unitCount === undefined) {\n      if (this.isOrdinal()) {\n        // In this case it number of items in domain\n        this._unitCount = this.x().domain().length;\n      } else {\n        this._unitCount = this.xUnits()(this.x().domain()[0], this.x().domain()[1]);\n\n        // Sometimes xUnits() may return an array while sometimes directly the count\n        if (this._unitCount instanceof Array) {\n          this._unitCount = this._unitCount.length;\n        }\n      }\n    }\n\n    return this._unitCount;\n  }\n\n  useRightYAxis (useRightYAxis?: any) {\n    if (useRightYAxis === undefined) {\n      return this._useRightYAxis;\n    }\n\n    // We need to warn if value is changing after self._yAxis was created\n    if (this._useRightYAxis !== useRightYAxis && this._yAxis) {\n      logger.warn('Value of useRightYAxis has been altered, after yAxis was created. ' +\n        'You might get unexpected yAxis behavior. ' +\n        'Make calls to useRightYAxis sooner in your chart creation process.');\n    }\n\n    this._useRightYAxis = useRightYAxis;\n    return this;\n  }\n\n  isOrdinal () {\n    return this.xUnits() === units.ordinal;\n  }\n\n  _useOuterPadding () {\n    return true;\n  }\n\n  _ordinalXDomain () {\n    const groups = this._computeOrderedGroups(this.data());\n    return groups.map(this.keyAccessor());\n  }\n\n  _prepareXAxis (g: any, render: any) {\n    if (!this.isOrdinal()) {\n      if (this.elasticX()) {\n        this._x.domain([this.xAxisMin(), this.xAxisMax()]);\n      }\n    } else { // self._chart.isOrdinal()\n      // D3v4 - Ordinal charts would need scaleBand\n      // bandwidth is a method in scaleBand\n      // (https://github.com/d3/d3-scale/blob/master/README.md#scaleBand)\n      if (!this._x.bandwidth) {\n        // If self._x is not a scaleBand create a new scale and\n        // copy the original domain to the new scale\n        logger.warn('For compatibility with d3v4+, dc.js d3.0 ordinal bar/line/bubble charts need ' +\n          'd3.scaleBand() for the x scale, instead of d3.scaleOrdinal(). ' +\n          'Replacing .x() with a d3.scaleBand with the same domain - ' +\n          'make the same change in your code to avoid this warning!');\n        this._x = scaleBand().domain(this._x.domain());\n      }\n\n      if (this.elasticX() || this._x.domain().length === 0) {\n        this._x.domain(this._ordinalXDomain());\n      }\n    }\n\n    // has the domain changed?\n    const xdom = this._x.domain();\n    if (render || !utils.arraysEqual(this._lastXDomain, xdom)) {\n      this.rescale();\n    }\n    this._lastXDomain = xdom;\n\n    // please can't we always use rangeBands for bar charts?\n    if (this.isOrdinal()) {\n      this._x.range([0, this.xAxisLength()])\n        .paddingInner(this._fRangeBandPadding)\n        .paddingOuter(this._useOuterPadding() ? this._fOuterRangeBandPadding : 0);\n    } else {\n      this._x.range([0, this.xAxisLength()]);\n    }\n\n    this._xAxis = this._xAxis.scale(this.x());\n\n    this._renderVerticalGridLines(g);\n  }\n\n  renderXAxis (g: any) {\n    let axisXG = g.select('g.x');\n\n    if (axisXG.empty()) {\n      axisXG = g.append('g')\n        .attr('class', 'axis x')\n        .attr('transform', `translate(${this.margins().left},${this._xAxisY()})`);\n    }\n\n    let axisXLab = g.select(`text.${X_AXIS_LABEL_CLASS}`);\n    if (axisXLab.empty() && this.xAxisLabel()) {\n      axisXLab = g.append('text')\n        .attr('class', X_AXIS_LABEL_CLASS)\n        .attr('transform', `translate(${this.margins().left + this.xAxisLength() / 2},${\n          this.height() - this._xAxisLabelPadding})`)\n        .attr('text-anchor', 'middle');\n    }\n    if (this.xAxisLabel() && axisXLab.text() !== this.xAxisLabel()) {\n      axisXLab.text(this.xAxisLabel());\n    }\n\n    transition(axisXG, this.transitionDuration(), this.transitionDelay())\n      .attr('transform', `translate(${this.margins().left},${this._xAxisY()})`)\n      .call(this._xAxis);\n    transition(axisXLab, this.transitionDuration(), this.transitionDelay())\n      .attr('transform', `translate(${this.margins().left + this.xAxisLength() / 2},${\n        this.height() - this._xAxisLabelPadding})`);\n  }\n\n  _renderVerticalGridLines (g: any) {\n    let gridLineG = g.select(`g.${VERTICAL_CLASS}`);\n\n    if (this._renderVerticalGridLine) {\n      if (gridLineG.empty()) {\n        gridLineG = g.insert('g', ':first-child')\n          .attr('class', `${GRID_LINE_CLASS} ${VERTICAL_CLASS}`)\n          .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n      }\n\n      const ticks = this._xAxis.tickValues() ? this._xAxis.tickValues() :\n        (typeof this._x.ticks === 'function' ? this._x.ticks.apply(this._x, this._xAxis.tickArguments()) : this._x.domain());\n\n      const lines = gridLineG.selectAll('line')\n        .data(ticks);\n\n      // enter\n      const linesGEnter = lines.enter()\n        .append('line')\n        .attr('x1', (d: any) => this._x(d))\n        .attr('y1', this._xAxisY() - this.margins().top)\n        .attr('x2', (d: any) => this._x(d))\n        .attr('y2', 0)\n        .attr('opacity', 0);\n      transition(linesGEnter, this.transitionDuration(), this.transitionDelay())\n        .attr('opacity', 0.5);\n\n      // update\n      transition(lines, this.transitionDuration(), this.transitionDelay())\n        .attr('x1', d => this._x(d))\n        .attr('y1', this._xAxisY() - this.margins().top)\n        .attr('x2', d => this._x(d))\n        .attr('y2', 0);\n\n      // exit\n      lines.exit().remove();\n    } else {\n      gridLineG.selectAll('line').remove();\n    }\n  }\n\n  _xAxisY () {\n    return (this.height() - this.margins().bottom);\n  }\n\n  xAxisLength () {\n    return this.effectiveWidth();\n  }\n\n  xAxisLabel (labelText?: any, padding?: any) {\n    if (labelText === undefined) {\n      return this._xAxisLabel;\n    }\n    this._xAxisLabel = labelText;\n    this.margins().bottom -= this._xAxisLabelPadding;\n    this._xAxisLabelPadding = (padding === undefined) ? DEFAULT_AXIS_LABEL_PADDING : padding;\n    this.margins().bottom += this._xAxisLabelPadding;\n    return this;\n  }\n\n  _createYAxis () {\n    // @ts-ignore\n    return this._useRightYAxis ? axisRight() : axisLeft();\n  }\n\n  _prepareYAxis (g: any) {\n    if (this._y === undefined || this.elasticY()) {\n      if (this._y === undefined) {\n        this._y = scaleLinear();\n      }\n      const _min = this.yAxisMin() || 0;\n      const _max = this.yAxisMax() || 0;\n      this._y.domain([_min, _max]).rangeRound([this.yAxisHeight(), 0]);\n    }\n\n    this._y.range([this.yAxisHeight(), 0]);\n\n    if (!this._yAxis) {\n      this._yAxis = this._createYAxis();\n    }\n\n    this._yAxis.scale(this._y);\n\n    this._renderHorizontalGridLinesForAxis(g, this._y, this._yAxis);\n  }\n\n  renderYAxisLabel (axisClass?: any, text?: any, rotation?: any, labelXPosition?: any) {\n    labelXPosition = labelXPosition || this._yAxisLabelPadding;\n\n    let axisYLab = this.g().select(`text.${Y_AXIS_LABEL_CLASS}.${axisClass}-label`);\n    const labelYPosition = (this.margins().top + this.yAxisHeight() / 2);\n    if (axisYLab.empty() && text) {\n      axisYLab = this.g().append('text')\n        .attr('transform', `translate(${labelXPosition},${labelYPosition}),rotate(${rotation})`)\n        .attr('class', `${Y_AXIS_LABEL_CLASS} ${axisClass}-label`)\n        .attr('text-anchor', 'middle')\n        .text(text);\n    }\n    if (text && axisYLab.text() !== text) {\n      axisYLab.text(text);\n    }\n    transition(axisYLab, this.transitionDuration(), this.transitionDelay())\n      .attr('transform', `translate(${labelXPosition},${labelYPosition}),rotate(${rotation})`);\n  }\n\n  renderYAxisAt (axisClass: any, axis: any, position: any) {\n    let axisYG = this.g().select(`g.${axisClass}`);\n    if (axisYG.empty()) {\n      axisYG = this.g().append('g')\n        .attr('class', `axis ${axisClass}`)\n        .attr('transform', `translate(${position},${this.margins().top})`);\n    }\n\n    transition(axisYG, this.transitionDuration(), this.transitionDelay())\n      .attr('transform', `translate(${position},${this.margins().top})`)\n      .call(axis);\n  }\n\n  renderYAxis (g?: any) {\n    const axisPosition = this._useRightYAxis ? (this.width() - this.margins().right) : this._yAxisX();\n    this.renderYAxisAt('y', this._yAxis, axisPosition);\n    const labelPosition = this._useRightYAxis ? (this.width() - this._yAxisLabelPadding) : this._yAxisLabelPadding;\n    const rotation = this._useRightYAxis ? 90 : -90;\n    this.renderYAxisLabel('y', this.yAxisLabel(), rotation, labelPosition);\n  }\n\n  _renderHorizontalGridLinesForAxis (g: any, scale: any, axis: any) {\n    let gridLineG = g.select(`g.${HORIZONTAL_CLASS}`);\n\n    if (this._renderHorizontalGridLine) {\n      // see https://github.com/d3/d3-axis/blob/master/src/axis.js#L48\n      const ticks = axis.tickValues() ? axis.tickValues() :\n        (scale.ticks ? scale.ticks.apply(scale, axis.tickArguments()) : scale.domain());\n\n      if (gridLineG.empty()) {\n        gridLineG = g.insert('g', ':first-child')\n          .attr('class', `${GRID_LINE_CLASS} ${HORIZONTAL_CLASS}`)\n          .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n      }\n\n      const lines = gridLineG.selectAll('line')\n        .data(ticks);\n\n      // enter\n      const linesGEnter = lines.enter()\n        .append('line')\n        .attr('x1', 1)\n        .attr('y1', (d: any) => scale(d))\n        .attr('x2', this.xAxisLength())\n        .attr('y2', (d: any) => scale(d))\n        .attr('opacity', 0);\n      transition(linesGEnter, this.transitionDuration(), this.transitionDelay())\n        .attr('opacity', 0.5);\n\n      // update\n      transition(lines, this.transitionDuration(), this.transitionDelay())\n        .attr('x1', 1)\n        .attr('y1', d => scale(d))\n        .attr('x2', this.xAxisLength())\n        .attr('y2', d => scale(d));\n\n      // exit\n      lines.exit().remove();\n    } else {\n      gridLineG.selectAll('line').remove();\n    }\n  }\n\n  _yAxisX () {\n    return this.useRightYAxis() ? this.width() - this.margins().right : this.margins().left;\n  }\n\n  yAxisLabel (labelText?: any, padding?: any) {\n    if (labelText === undefined) {\n      return this._yAxisLabel;\n    }\n    this._yAxisLabel = labelText;\n    this.margins().left -= this._yAxisLabelPadding;\n    this._yAxisLabelPadding = (padding === undefined) ? DEFAULT_AXIS_LABEL_PADDING : padding;\n    this.margins().left += this._yAxisLabelPadding;\n    return this;\n  }\n\n  y (yScale?: any) {\n    if (yScale === undefined) {\n      return this._y;\n    }\n    this._y = yScale;\n    this.rescale();\n    return this;\n  }\n\n  yAxis (yAxis?: any) {\n    if (yAxis === undefined) {\n      if (!this._yAxis) {\n        this._yAxis = this._createYAxis();\n      }\n      return this._yAxis;\n    }\n    this._yAxis = yAxis;\n    return this;\n  }\n\n  elasticY (elasticY?: any) {\n    if (elasticY === undefined) {\n      return this._yElasticity;\n    }\n    this._yElasticity = elasticY;\n    return this;\n  }\n\n  renderHorizontalGridLines (renderHorizontalGridLines?: any) {\n    if (renderHorizontalGridLines === undefined) {\n      return this._renderHorizontalGridLine;\n    }\n    this._renderHorizontalGridLine = renderHorizontalGridLines;\n    return this;\n  }\n\n  renderVerticalGridLines (renderVerticalGridLines?: any) {\n    if (renderVerticalGridLines === undefined) {\n      return this._renderVerticalGridLine;\n    }\n    this._renderVerticalGridLine = renderVerticalGridLines;\n    return this;\n  }\n\n  xAxisMin () {\n    const m = min(this.data(), e => this.keyAccessor()(e));\n    // @ts-ignore\n    return utils.subtract(m, this._xAxisPadding, this._xAxisPaddingUnit);\n  }\n\n  xAxisMax () {\n    const m = max(this.data(), e => this.keyAccessor()(e));\n    // @ts-ignore\n    return utils.add(m, this._xAxisPadding, this._xAxisPaddingUnit);\n  }\n\n  yAxisMin () {\n    const m = min(this.data(), e => this.valueAccessor()(e));\n    // @ts-ignore\n    return utils.subtract(m, this._yAxisPadding);\n  }\n\n  yAxisMax () {\n    const m = max(this.data(), e => this.valueAccessor()(e));\n    // @ts-ignore\n    return utils.add(m, this._yAxisPadding);\n  }\n\n  yAxisPadding (padding?: any) {\n    if (padding === undefined) {\n      return this._yAxisPadding;\n    }\n    this._yAxisPadding = padding;\n    return this;\n  }\n\n  yAxisHeight () {\n    return this.effectiveHeight();\n  }\n\n  round (round?: any) {\n    if (round === undefined) {\n      return this._round;\n    }\n    this._round = round;\n    return this;\n  }\n\n  _rangeBandPadding (_?: any) {\n    if (_ === undefined) {\n      return this._fRangeBandPadding;\n    }\n    this._fRangeBandPadding = _;\n    return this;\n  }\n\n  _outerRangeBandPadding (_?: any) {\n    if (_ === undefined) {\n      return this._fOuterRangeBandPadding;\n    }\n    this._fOuterRangeBandPadding = _;\n    return this;\n  }\n\n  filter (_?: any) {\n    if (_ === undefined) {\n      return super.filter();\n    }\n\n    super.filter(_);\n\n    this.redrawBrush(_, false);\n\n    return this;\n  }\n\n  brush (_?: any) {\n    if (_ === undefined) {\n      return this._brush;\n    }\n    this._brush = _;\n    return this;\n  }\n\n  renderBrush (g: any, doTransition: any) {\n    if (this._brushOn) {\n      this._brush.on('start brush end', () => this._brushing());\n\n      // To retrieve selection we need self._gBrush\n      this._gBrush = g.append('g')\n        .attr('class', 'brush')\n        .attr('transform', `translate(${this.margins().left},${this.margins().top})`);\n\n      this.setBrushExtents();\n\n      this.createBrushHandlePaths(this._gBrush, doTransition);\n\n      this.redrawBrush(this.filter(), doTransition);\n    }\n  }\n\n  createBrushHandlePaths (gBrush?: any, option?: any) {\n    let brushHandles = gBrush.selectAll(`path.${CUSTOM_BRUSH_HANDLE_CLASS}`).data([{type: 'w'}, {type: 'e'}]);\n\n    brushHandles = brushHandles\n      .enter()\n      .append('path')\n      .attr('class', CUSTOM_BRUSH_HANDLE_CLASS)\n      .merge(brushHandles);\n\n    brushHandles\n      .attr('d', (d: any) => this.resizeHandlePath(d));\n  }\n\n  extendBrush (brushSelection: any) {\n    if (brushSelection && this.round()) {\n      brushSelection[0] = this.round()(brushSelection[0]);\n      brushSelection[1] = this.round()(brushSelection[1]);\n    }\n    return brushSelection;\n  }\n\n  brushIsEmpty (brushSelection: any) {\n    return !brushSelection || brushSelection[1] <= brushSelection[0];\n  }\n\n  _brushing () {\n    // Avoids infinite recursion (mutual recursion between range and focus operations)\n    // Source Event will be null when brush.move is called programmatically (see below as well).\n    // @ts-ignore\n    if (!event.sourceEvent) {\n      return;\n    }\n\n    // Ignore event if recursive event - i.e. not directly generated by user action (like mouse/touch etc.)\n    // In this case we are more worried about this handler causing brush move programmatically which will\n    // cause this handler to be invoked again with a new d3.event (and current event set as sourceEvent)\n    // This check avoids recursive calls\n    // @ts-ignore\n    if (event.sourceEvent.type && ['start', 'brush', 'end'].indexOf(event.sourceEvent.type) !== -1) {\n      return;\n    }\n\n    // @ts-ignore\n    let brushSelection = event.selection;\n    if (brushSelection) {\n      brushSelection = brushSelection.map(this.x().invert);\n    }\n\n    brushSelection = this.extendBrush(brushSelection);\n\n    this.redrawBrush(brushSelection, false);\n\n    const rangedFilter = this.brushIsEmpty(brushSelection) ? null : filters.RangedFilter(brushSelection[0], brushSelection[1]);\n\n    events.trigger(() => {\n      this.applyBrushSelection(rangedFilter);\n    }, constants.EVENT_DELAY);\n  }\n\n  // This can be overridden in a derived chart. For example Composite chart overrides it\n  applyBrushSelection (rangedFilter: any) {\n    this.replaceFilter(rangedFilter);\n    this.redrawGroup();\n  }\n\n  setBrushExtents (doTransition?: any) {\n    // Set boundaries of the brush, must set it before applying to self._gBrush\n    this._brush.extent([[0, 0], [this.effectiveWidth(), this.effectiveHeight()]]);\n\n    this._gBrush\n      .call(this._brush);\n  }\n\n  redrawBrush (brushSelection: any, doTransition: any) {\n    if (this._brushOn && this._gBrush) {\n      if (this._resizing) {\n        this.setBrushExtents(doTransition);\n      }\n\n      if (!brushSelection) {\n        this._gBrush\n          .call(this._brush.move, null);\n\n        this._gBrush.selectAll(`path.${CUSTOM_BRUSH_HANDLE_CLASS}`)\n          .attr('display', 'none');\n      } else {\n        const scaledSelection = [this._x(brushSelection[0]), this._x(brushSelection[1])];\n\n        const gBrush =\n          optionalTransition(doTransition, this.transitionDuration(), this.transitionDelay())(this._gBrush);\n\n        // @ts-ignore\n        gBrush\n          .call(this._brush.move, scaledSelection);\n\n        // @ts-ignore\n        gBrush.selectAll(`path.${CUSTOM_BRUSH_HANDLE_CLASS}`)\n          .attr('display', null)\n          .attr('transform', (d: any, i: any) => `translate(${this._x(brushSelection[i])}, 0)`)\n          .attr('d', (d: any) => this.resizeHandlePath(d));\n      }\n    }\n    this.fadeDeselectedArea(brushSelection);\n  }\n\n  fadeDeselectedArea (brushSelection: any) {\n    // do nothing, sub-chart should override this function\n  }\n\n  // borrowed from Crossfilter example\n  resizeHandlePath (d: any) {\n    d = d.type;\n    const e = +(d === 'e'), x = e ? 1 : -1, y = this.effectiveHeight() / 3;\n    return `M${0.5 * x},${y\n      }A6,6 0 0 ${e} ${6.5 * x},${y + 6\n      }V${2 * y - 6\n      }A6,6 0 0 ${e} ${0.5 * x},${2 * y\n      }Z` +\n      `M${2.5 * x},${y + 8\n      }V${2 * y - 8\n      }M${4.5 * x},${y + 8\n      }V${2 * y - 8}`;\n  }\n\n  _getClipPathId () {\n    return `${this.anchorName().replace(/[ .#=\\[\\]\"]/g, '-')}-clip`;\n  }\n\n  clipPadding (padding?: any) {\n    if (padding === undefined) {\n      return this._clipPadding;\n    }\n    this._clipPadding = padding;\n    return this;\n  }\n\n  _generateClipPath () {\n    // @ts-ignore\n    const defs = utils.appendOrSelect(this._parent, 'defs');\n    // cannot select <clippath> elements; bug in WebKit, must select by id\n    // https://groups.google.com/forum/#!topic/d3-js/6EpAzQ2gU9I\n    const id = this._getClipPathId();\n    const chartBodyClip = utils.appendOrSelect(defs, `#${id}`, 'clipPath').attr('id', id);\n\n    const padding = this._clipPadding * 2;\n\n    // @ts-ignore\n    utils.appendOrSelect(chartBodyClip, 'rect')\n      .attr('width', this.xAxisLength() + padding)\n      .attr('height', this.yAxisHeight() + padding)\n      .attr('transform', `translate(-${this._clipPadding}, -${this._clipPadding})`);\n  }\n\n  _preprocessData () {\n  }\n\n  _doRender () {\n    this.resetSvg();\n\n    this._preprocessData();\n\n    this._generateG();\n    this._generateClipPath();\n\n    this._drawChart(true);\n\n    this._configureMouseZoom();\n\n    return this;\n  }\n\n  _doRedraw () {\n    this._preprocessData();\n\n    this._drawChart(false);\n    this._generateClipPath();\n\n    return this;\n  }\n\n  _drawChart (render: any) {\n    if (this.isOrdinal()) {\n      this._brushOn = false;\n    }\n\n    this._prepareXAxis(this.g(), render);\n    this._prepareYAxis(this.g());\n\n    this['plotData']();\n\n    if (this.elasticX() || this._resizing || render) {\n      this.renderXAxis(this.g());\n    }\n\n    if (this.elasticY() || this._resizing || render) {\n      this.renderYAxis(this.g());\n    }\n\n    if (render) {\n      this.renderBrush(this.g(), false);\n    } else {\n      // Animate the brush only while resizing\n      this.redrawBrush(this.filter(), this._resizing);\n    }\n    this.fadeDeselectedArea(this.filter());\n    this.resizing(false);\n  }\n\n  _configureMouseZoom () {\n    // Save a copy of original x scale\n    this._origX = this._x.copy();\n\n    if (this._mouseZoomable) {\n      this._enableMouseZoom();\n    } else if (this._hasBeenMouseZoomable) {\n      this._disableMouseZoom();\n    }\n  }\n\n  _enableMouseZoom () {\n    this._hasBeenMouseZoomable = true;\n\n    const extent = [[0, 0], [this.effectiveWidth(), this.effectiveHeight()]];\n\n    this._zoom\n      .scaleExtent(this._zoomScale)\n      .extent(extent)\n      .duration(this.transitionDuration());\n\n    if (this._zoomOutRestrict) {\n      // Ensure minimum zoomScale is at least 1\n      const zoomScaleMin = Math.max(this._zoomScale[0], 1);\n      this._zoom\n        .translateExtent(extent)\n        .scaleExtent([zoomScaleMin, this._zoomScale[1]]);\n    }\n\n    this.root().call(this._zoom);\n\n    // Tell D3 zoom our current zoom/pan status\n    this._updateD3zoomTransform();\n  }\n\n  _disableMouseZoom () {\n    this.root().call(this._nullZoom);\n  }\n\n  _zoomHandler (newDomain: any, noRaiseEvents: any) {\n    let domFilter: any;\n\n    if (this._hasRangeSelected(newDomain)) {\n      this.x().domain(newDomain);\n      domFilter = filters.RangedFilter(newDomain[0], newDomain[1]);\n    } else {\n      this.x().domain(this._xOriginalDomain);\n      domFilter = null;\n    }\n\n    this.replaceFilter(domFilter);\n    this.rescale();\n    this.redraw();\n\n    if (!noRaiseEvents) {\n      if (this._rangeChart && !utils.arraysEqual(this.filter(), this._rangeChart.filter())) {\n        events.trigger(() => {\n          // @ts-ignore\n          this._rangeChart.replaceFilter(domFilter);\n          this._rangeChart.redraw();\n        });\n      }\n\n      this._invokeZoomedListener();\n      events.trigger(() => {\n        this.redrawGroup();\n      }, constants.EVENT_DELAY);\n    }\n  }\n\n  // event.transform.rescaleX(self._origX).domain() should give back newDomain\n  _domainToZoomTransform (newDomain: any, origDomain: any, xScale: any) {\n    const k = (origDomain[1] - origDomain[0]) / (newDomain[1] - newDomain[0]);\n    const xt = -1 * xScale(newDomain[0]);\n\n    return zoomIdentity.scale(k).translate(xt, 0);\n  }\n\n  // If we changing zoom status (for example by calling focus), tell D3 zoom about it\n  _updateD3zoomTransform () {\n    if (this._zoom) {\n      this._zoom.transform(this.root(), this._domainToZoomTransform(this.x().domain(), this._xOriginalDomain, this._origX));\n    }\n  }\n\n  _onZoom () {\n    // Avoids infinite recursion (mutual recursion between range and focus operations)\n    // Source Event will be null when zoom is called programmatically (see below as well).\n    // @ts-ignore\n    if (!event.sourceEvent) {\n      return;\n    }\n\n    // Ignore event if recursive event - i.e. not directly generated by user action (like mouse/touch etc.)\n    // In this case we are more worried about this handler causing zoom programmatically which will\n    // cause this handler to be invoked again with a new d3.event (and current event set as sourceEvent)\n    // This check avoids recursive calls\n    // @ts-ignore\n    if (event.sourceEvent.type && ['start', 'zoom', 'end'].indexOf(event.sourceEvent.type) !== -1) {\n      return;\n    }\n\n    // @ts-ignore\n    const newDomain = event.transform.rescaleX(this._origX).domain();\n    this.focus(newDomain, false);\n  }\n\n  _checkExtents (ext: any, outerLimits: any) {\n    if (!ext || ext.length !== 2 || !outerLimits || outerLimits.length !== 2) {\n      return ext;\n    }\n\n    if (ext[0] > outerLimits[1] || ext[1] < outerLimits[0]) {\n      console.warn('Could not intersect extents, will reset');\n    }\n    // Math.max does not work (as the values may be dates as well)\n    return [ext[0] > outerLimits[0] ? ext[0] : outerLimits[0], ext[1] < outerLimits[1] ? ext[1] : outerLimits[1]];\n  }\n\n  focus (range: any, noRaiseEvents: any) {\n    if (this._zoomOutRestrict) {\n      // ensure range is within self._xOriginalDomain\n      range = this._checkExtents(range, this._xOriginalDomain);\n\n      // If it has an associated range chart ensure range is within domain of that rangeChart\n      if (this._rangeChart) {\n        range = this._checkExtents(range, this._rangeChart.x().domain());\n      }\n    }\n\n    this._zoomHandler(range, noRaiseEvents);\n    this._updateD3zoomTransform();\n  }\n\n  refocused () {\n    return !utils.arraysEqual(this.x().domain(), this._xOriginalDomain);\n  }\n\n  focusChart (c?: any) {\n    if (c === undefined) {\n      return this._focusChart;\n    }\n    this._focusChart = c;\n    this.on('filtered.dcjs-range-chart', (chart: any) => {\n      if (!chart.filter()) {\n        events.trigger(() => {\n          this._focusChart.x().domain(this._focusChart.xOriginalDomain(), true);\n        });\n      } else if (!utils.arraysEqual(chart.filter(), this._focusChart.filter())) {\n        events.trigger(() => {\n          this._focusChart.focus(chart.filter(), true);\n        });\n      }\n    });\n    return this;\n  }\n\n  brushOn (brushOn?: any) {\n    if (brushOn === undefined) {\n      return this._brushOn;\n    }\n    this._brushOn = brushOn;\n    return this;\n  }\n\n  parentBrushOn (brushOn?: any) {\n    if (brushOn === undefined) {\n      return this._parentBrushOn;\n    }\n    this._parentBrushOn = brushOn;\n    return this;\n  }\n\n  // Get the SVG rendered brush\n  gBrush () {\n    return this._gBrush;\n  }\n\n  _hasRangeSelected (range: any) {\n    return range instanceof Array && range.length > 1;\n  }\n}\n","import {filters, transition, utils, pluck, events} from 'dc';\nimport * as _ from 'lodash';\nimport * as d3 from 'd3';\nimport {CoordinateGridMixin} from '../base/coordinate-grid-mixin';\n\nconst constants = {\n  CHART_CLASS: 'dj-chart',\n  DEBUG_GROUP_CLASS: 'debug',\n  STACK_CLASS: 'stack',\n  DESELECTED_CLASS: 'deselected',\n  SELECTED_CLASS: 'selected',\n  NODE_INDEX_NAME: '__index__',\n  GROUP_INDEX_NAME: '__group_index__',\n  DEFAULT_CHART_GROUP: '__default_chart_group__',\n  EVENT_DELAY: 40,\n  NEGLIGIBLE_NUMBER: 1e-10\n};\n\nexport class MultiChart extends CoordinateGridMixin {\n\n  private _gap: any = 2;\n  private MIN_BAR_WIDTH = 1;\n  private _centerBar = true;\n  private _symbol = d3.symbol();\n  private _click = null;\n  private _dashStyle: any;\n  private _defined: any;\n  private _barWidth: any;\n  private _locator: any;\n  private _annotateLocation: any;\n  private _highlightedSize = 7;\n  private _symbolSize = 5;\n  private _excludedSize = 3;\n  private _excludedColor = null;\n  private _excludedOpacity = 1.0;\n  private __filter: any;\n  private _emptySize = 0;\n  private _filtered = [];\n  private _existenceAccessor: any;\n  private lines: any;\n  private originalKeyAccessor;\n  private multiOption;\n  _tooltip: any;\n\n  x: any;\n  _x: any;\n  y: any;\n  g: any;\n  brush: any;\n  _widthCalc: any;\n  redrawBrush: any;\n  redrawGroup: any;\n  filter: any;\n  round: any;\n  label: any;\n  title: any;\n  svg: any;\n  data: any;\n  group: any;\n  width: any;\n  onClick: any;\n  getColor: any;\n  selectAll: any;\n  xAxisLength: any;\n  chartBodyG: any;\n  xUnitCount: any;\n  renderLabel: any;\n  yAxisHeight: any;\n  margins: any;\n  isOrdinal: any;\n  _groupName: any;\n  _groupScale: any;\n  keyAccessor: any;\n  valueAccessor: any;\n  colorAccessor: any;\n  yOriginalDomain: any;\n  transitionDuration: any;\n  transitionDelay: any;\n\n  constructor(element?: any, option?: any) {\n    super();\n    this.multiOption = option;\n    this.originalKeyAccessor = this.keyAccessor();\n\n    this.keyAccessor((d: any) => this.originalKeyAccessor(d)[0]);\n    this.valueAccessor((d: any) => this.originalKeyAccessor(d)[1]);\n    this.colorAccessor(() => this._groupName);\n    this.lines = () => this;\n    this._existenceAccessor = (d: any) => {\n      return d.value ? d.value : d.y;\n    };\n\n    this._symbol.size((d: any, i: number) => {\n      if (!this._existenceAccessor(d)) {\n        return this._emptySize;\n      } else if (this._filtered[i]) {\n        return Math.pow(this._symbolSize, 2);\n      } else {\n        return Math.pow(this._excludedSize, 2);\n      }\n    });\n  }\n\n  _filter(filter?: any) {\n    if (!filter) {\n      return this.__filter();\n    }\n    return this.__filter(filters.RangedTwoDimensionalFilter(filter));\n  }\n\n  plotData(zoomX?: any, zoomY?: any) {\n    const chartList: any[] = [];\n    let type;\n    let axisLabel;\n    let yAxisLabel;\n    let errorBar;\n    let chartOption: any;\n    let axisWidth: any;\n    let clipPath;\n    if (this.svg()) {\n      clipPath = this.svg().select('.chart-body').attr('clip-path');\n    } else {\n      clipPath = this.g().select('.chart-body').attr('clip-path');\n    }\n    this.chartBodyG().attr('clip-path', clipPath);\n\n    this.multiOption.axisOption.forEach((v: any) => {\n      if (v.series) {\n        chartList.push(v.series);\n        if (this.data()[0].key[0].toString() === v.series.toString()) {\n          type = v.type;\n          axisLabel = v.axisLabel;\n        }\n        if (this._groupName === v.series) {\n          yAxisLabel = v.axisLabel;\n          errorBar = v.errorBar;\n          chartOption = v;\n        }\n      }\n    });\n\n    if (chartOption) {\n      // stacks 가 있으면 stack 설정\n      if (chartOption.stacks) {\n        const _stacks: any = [];\n        const sel_stack = ((key: any) => (d: any) => d.value[key]);\n        chartOption.stacks.forEach((d: any) => {\n          const layer = {group: this.group(), name: d, accessor: sel_stack};\n          _stacks.push(layer);\n        });\n        this.data = () => {\n          const layers = _stacks.filter((l: any) => !l.hidden);\n          if (!layers.length) {\n            return [];\n          }\n          layers.forEach((layer: any, layerIdx: any) => {\n            layer.name = String(layer.name || layerIdx);\n            const allValues = layer.group.all().map((d: any, i: number) => {\n              return {\n                x: this.keyAccessor()(d, i),\n                y: layer.hidden ? null : sel_stack(layer.name)(d),\n                data: d,\n                layer: layer.name,\n                hidden: layer.hidden\n              };\n            });\n            layer.domainValues = allValues;\n            layer.values = allValues;\n            layer['key'] = layer.group.all()[0].key;\n          });\n\n          const v4data = layers[0].values.map((v: any, i: number) => {\n            const col = {x: v.x};\n            layers.forEach((layer: any) => {\n              // @ts-ignore\n              col[layer.name] = layer.values[i].y;\n            });\n            return col;\n          });\n          const keys = layers.map((layer: any) => layer.name);\n          const v4result = d3.stack().keys(keys)(v4data);\n          v4result.forEach((series, i) => {\n            series.forEach((ys, j) => {\n              layers[i].values[j].y0 = ys[0];\n              layers[i].values[j].y1 = ys[1];\n            });\n          });\n          return layers;\n        };\n      }\n\n      // boolean 일때 설정\n      if (type === 'boolean') {\n        if (!chartOption.symbol) {\n          chartOption.symbol = 'square';\n        }\n        if (!chartOption.symbol) {\n          chartOption.symbol = 'square';\n        }\n        if (!chartOption.gap) {\n          chartOption.gap = 5;\n        }\n        if (!chartOption.size) {\n          chartOption.size = 7;\n        }\n        if (!chartOption.lineWidth) {\n          chartOption.lineWidth = 1.5;\n        }\n      }\n\n      const y = d3.scaleLinear().range([this.yAxisHeight(), 0]);\n      const yAxis = d3.axisRight(y).ticks(10);\n      if (chartOption.tickFormat) {\n        yAxis.tickFormat(chartOption.tickFormat);\n      }\n      if (chartOption.ticks) {\n        yAxis.ticks(chartOption.ticks);\n      }\n\n      // x domain 설정\n      if (zoomX) {\n        this.x().domain(zoomX);\n      }\n\n      // 도메인에 해당하는 데이터만 찾기기\n      const data: any = [];\n      let domain = this.x().domain();\n      this.data().forEach((v: any) => {\n        const x = v.key[0];\n        if (domain[0] <= x && domain[1] >= x) {\n          data.push(v);\n        }\n      });\n\n      // y domain 설정\n      let yDomain;\n      if (zoomY) { // zoom in 일때\n        domain = this._groupScale[this._groupName];\n        const area = (domain[0] - domain[0]) + (domain[1] - domain[0]);\n\n        if (type === 'boolean') {\n          y.domain([-0.5, 1.5]);\n          // @ts-ignore\n          yAxis.ticks(2).tickFormat((d: any) => {\n            if (!d) {\n              return 'FAIL';\n            } else if (d === 1) {\n              return 'PASS';\n            } else {\n              return null;\n            }\n          });\n        } else if (axisLabel === 'EVENT') {\n          y.domain(domain);\n        } else {\n          yDomain = [\n            (area / zoomY[0]) + domain[0] + (chartOption.gap ? -chartOption.gap : 0),\n            (area / zoomY[1]) + domain[0] + (chartOption.gap ? chartOption.gap : 0)\n          ];\n          y.domain([\n            (area / zoomY[0]) + domain[0] + (chartOption.gap ? -chartOption.gap : 0),\n            (area / zoomY[1]) + domain[0] + (chartOption.gap ? chartOption.gap : 0)\n          ]);\n        }\n        const dom = y.domain();\n      } else if (!zoomX && !zoomY && this.yOriginalDomain && this.yOriginalDomain()) {\n        y.domain(this.yOriginalDomain());\n      } else { // zoom out 일때\n        if (this.multiOption.axisOption) {\n          this.multiOption.axisOption.forEach((v: any) => {\n            if (this._groupName === v.series) {\n              domain = v.domain;\n            }\n          });\n        }\n        if (type === 'boolean') {\n          y.domain([-0.5, 1.5]);\n          // @ts-ignore\n          yAxis.ticks(2).tickFormat((d: any) => {\n            if (!d) {\n              return 'FAIL';\n            } else if (d === 1) {\n              return 'PASS';\n            } else {\n              return null;\n            }\n          });\n        } else if (axisLabel === 'EVENT') {\n          y.domain(domain);\n        } else if (domain) {\n          const dom = [domain[0] + (chartOption.gap ? -chartOption.gap : 0), domain[1] + (chartOption.gap ? chartOption.gap : 0)];\n          y.domain(dom);\n        } else {\n          const dom = [\n            // @ts-ignore\n            d3.min(data, (d: any) =>  typeof d.value === 'object' ? d.value.value : d.value) + (chartOption.gap ? -chartOption.gap : 0),\n            d3.max(data, (d: any) => typeof d.value === 'object' ? d.value.value : d.value) + (chartOption.gap ? chartOption.gap : 0)\n          ];\n          y.domain(dom);\n        }\n      }\n\n      this._locator = (d: any) => {\n        let rotate = '';\n        if (chartOption.symbolRotate) {\n          rotate = ' rotate(' + chartOption.symbolRotate + ')';\n        }\n        let bandwidth = 0;\n        if (this.x().bandwidth) {\n          bandwidth = this.x().bandwidth() / 2;\n        }\n\n        if (d.key) {\n          let check = this.y()(this.valueAccessor()(d));\n          if (isNaN(check)) {\n            check = 0;\n          }\n          return 'translate(' + (this.x()(this.keyAccessor()(d)) + bandwidth) + ',' + check + ')' + rotate;\n        } else {\n          let check = y(d.y);\n          if (isNaN(check)) {\n            check = 0;\n          }\n          return 'translate(' + (this.x()(d.x) + bandwidth) + ',' + check + ')' + rotate;\n        }\n      };\n\n      this._annotateLocation = (d: any) => {\n        let rotate = '';\n        if (chartOption.symbolRotate) {\n          rotate = ' rotate(' + chartOption.symbolRotate + ')';\n        }\n        if (d.key) {\n          let check = this.y()(this.valueAccessor()(d));\n          if (isNaN(check)) {\n            check = 0;\n          }\n          return 'translate(' + this.x()(this.keyAccessor()(d)) + ',' + check + ')' + rotate;\n        } else {\n          let check = y(d.y);\n          if (isNaN(check)) {\n            check = 0;\n          }\n          return 'translate(' + (this.x()(d.x) - 7) + ',' + (check - 10) + ')' + rotate;\n        }\n      };\n\n      if (!this._groupScale) {\n        this._groupScale = {};\n      }\n      this._groupScale[this._groupName] = y.domain();\n\n      // Y Axis 그리기\n      let axisPadding = 0;\n      for (let i = 0; i < chartList.indexOf(this._groupName); i++) {\n        if (i) {\n          axisPadding += this.multiOption.axisOption[i].width ? this.multiOption.axisOption[i].width + 35 : 0;\n        }\n      }\n\n      // chart 그리기\n      const valAccessor = this.valueAccessor();\n      let drawData = this.data();\n      if (!chartOption.stacks) {\n        drawData = [{\n          group: {\n            all: () => this.data()\n          },\n          name: this.data()[0].key[1].toString(),\n          values: this.data().map((d: any, i: number) => {\n            return {\n              x: this.keyAccessor()(d, i),\n              y: valAccessor(d, i),\n              z: d.value.z,\n              data: d,\n              layer: d.key[1],\n              hidden: undefined\n            };\n          })\n        }];\n      }\n\n      this.drawChart(type, y, drawData, chartOption, zoomX, yDomain);\n\n      if (!chartOption.hide) {\n        const axis = chartList.indexOf(this._groupName) ? yAxis : d3.axisLeft(y).ticks(10);\n        if (chartOption.tickFormat) {\n          axis.tickFormat(chartOption.tickFormat);\n        }\n        if (chartOption.ticks) {\n          axis.ticks(chartOption.ticks);\n        }\n        const axisClass = this.multiOption.axisOption.filter((d: any) => !d.hide).map((d: any) => d.series).indexOf(this._groupName);\n\n        const chartWith = this.renderYAxisAt(axisClass\n          , axis\n          , this.width() - this.margins().right + axisPadding);\n\n\n        axisWidth = this.renderYAxisAt(axisClass\n          , axis\n          , this.width() - this.margins().right + axisPadding) || 0;\n\n        // label\n        this.renderYAxisLabel(axisClass\n          , yAxisLabel\n          , 90\n          , this.width() - this.margins().right + axisWidth + 5 + axisPadding);\n      }\n\n      // set y right axis width\n      this.multiOption.axisOption.forEach((v: any) => {\n        if (this._groupName === v.series) {\n          v.width = axisWidth;\n        }\n      });\n    }\n\n    if (!this.yOriginalDomain) {\n      this.yOriginalDomain = () => {\n        let domain;\n        this.multiOption.axisOption.forEach((v: any) => {\n          if (this._groupName === v.series) {\n            domain = v.domain;\n          }\n        });\n        return domain;\n      };\n    }\n  }\n\n  click(click?: any) {\n    if (!click) {\n      return this._click;\n    }\n    this._click = click;\n    return this;\n  }\n\n  defined(defined?: any) {\n    if (!defined) {\n      return this._defined;\n    }\n    this._defined = defined;\n    return this;\n  }\n\n  dashStyle(dashStyle?: any) {\n    if (!dashStyle) {\n      return this._dashStyle;\n    }\n    this._dashStyle = dashStyle;\n    return this;\n  }\n\n  renderYAxisLabel(axisClass?: any, text?: any, rotation?: any, labelXPosition?: any) {\n    labelXPosition = labelXPosition || 0;\n    if (axisClass && this.svg()) {\n      let axisYLab = this.svg().selectAll('text.' + 'y-axis-label' + '.y' + axisClass + '-label');\n      const labelYPosition = ((this.margins().top + this.yAxisHeight()) / 2);\n      if (axisYLab.empty() && text) {\n        axisYLab = d3.select(this.g()._groups[0][0].parentNode).append('text')\n          .attr('transform', 'translate(' + labelXPosition + ',' + labelYPosition + '),rotate(' + rotation + ')')\n          .attr('class', 'y-axis-label' + ' y' + axisClass + '-label')\n          .attr('text-anchor', 'middle')\n          .text(text);\n      }\n      if (text && axisYLab.text() !== text) {\n        axisYLab.text(text);\n      }\n      transition(axisYLab, this.transitionDuration(), this.transitionDelay())\n        .attr('transform', 'translate(' + labelXPosition + ',' + labelYPosition + '),rotate(' + rotation + ')');\n    }\n  }\n\n  renderYAxisAt(axisClass: any, axis: any, position: any) {\n    let axisYG;\n    if (axisClass && this.svg()) {\n      axisYG = this.svg().selectAll('g.' + 'y' + axisClass);\n      if (axisYG.empty()) {\n        axisYG = d3.select(this.g()._groups[0][0].parentNode).append('g')\n          .attr('class', 'axis y-axis-at ' + 'y' + axisClass)\n          .attr('transform', 'translate(' + position + ',' + this.margins().top + ')');\n      }\n\n      transition(axisYG, this.transitionDuration(), this.transitionDelay())\n        .attr('transform', 'translate(' + position + ',' + this.margins().top + ')')\n        .call(axis);\n    } else {\n      if (this.svg()) {\n        axisYG = this.svg().select('g.' + 'y');\n      } else {\n        axisYG = d3.select(this.g()._groups[0][0].parentNode).select('g.' + 'y');\n      }\n\n      transition(axisYG, this.transitionDuration(), this.transitionDelay()).call(axis);\n    }\n\n    if (axisYG && axisYG._groups[0][0]) {\n      return axisYG._groups[0][0].getBoundingClientRect().width;\n    } else {\n      return 0;\n    }\n  }\n\n  private drawChart(chart: any, y: any, data: any, option: any, zoomX: any, zoomY: any) {\n    if (chart === 'lineSymbol') {\n      /*--------- line Start----------*/\n      const chartBody = this.chartBodyG();\n      let layersList = chartBody.selectAll('g.stack-list');\n      if (layersList.empty()) {\n        layersList = chartBody.append('g').attr('class', 'stack-list');\n      }\n      const layers = layersList.selectAll('g.stack').data(data);\n      const layersEnter = layers.enter().append('g').attr('class', (d: any, i: number) => 'stack ' + '_' + i);\n      this.drawLine(layersEnter, layers, y, option, option.smooth);\n      /*--------- line End----------*/\n\n      /*--------- symbol Start----------*/\n      const layers2 = this.chartBodyG().selectAll('path.symbol').data(data);\n      layers2.enter()\n        .append('g')\n        .attr('class', (d: any, i: number) => {\n          return 'stack ' + '_' + i;\n        });\n\n      data.forEach((d: any, i: number) => {\n        this.renderSymbol(d, option);\n      });\n\n      // 추가된 데이터가 있으면 다시 렌더\n      if (data.length !== layers.size()) {\n        this.plotData();\n      }\n      /*--------- symbol End----------*/\n\n      // renderArea 추가\n      if (option.renderArea) {\n        this.drawArea(layersEnter, layers, y, option, option.smooth ?  d3.curveMonotoneX : d3.curveCardinal.tension(1));\n      }\n    } else if (chart === 'smoothLine') {\n      /*--------- line Start----------*/\n      const chartBody = this.chartBodyG();\n      let layersList = chartBody.selectAll('g.stack-list');\n      if (layersList.empty()) {\n        layersList = chartBody.append('g').attr('class', 'stack-list');\n      }\n      const layers = layersList.selectAll('g.stack').data(data);\n      const layersEnter = layers.enter().append('g').attr('class', (d: any, i: number) => 'stack ' + '_' + i);\n      this.drawLine(layersEnter, layers, y, option, true);\n      /*--------- line End----------*/\n\n      /*--------- symbol Start----------*/\n      const layers2 = this.chartBodyG().selectAll('path.symbol').data(data);\n      layers2.enter()\n        .append('g')\n        .attr('class', (d: any, i: number) => {\n          return 'stack ' + '_' + i;\n        });\n\n      data.forEach((d: any, i: number) => {\n        this.renderSymbol(d, option);\n      });\n\n      // 추가된 데이터가 있으면 다시 렌더\n      if (data.length !== layers.size()) {\n        this.plotData();\n      }\n\n      // renderArea 추가\n      if (option.renderArea) {\n        this.drawArea(layersEnter, layers, y, option, d3.curveMonotoneX);\n      }\n      /*--------- symbol End----------*/\n    } else if (chart === 'line') {\n      const chartBody = this.chartBodyG();\n      let layersList = chartBody.selectAll('g.stack-list');\n      if (layersList.empty()) {\n        layersList = chartBody.append('g').attr('class', 'stack-list');\n      }\n      const layers = layersList.selectAll('g.stack').data(data);\n      const layersEnter = layers.enter().append('g').attr('class', (d: any, i: number) => 'stack ' + '_' + i);\n      this.drawLine(layersEnter, layers, y, option, option.smooth);\n\n      // 추가된 데이터가 있으면 다시 렌더\n      if (data.length !== layers.size()) {\n        this.plotData();\n      }\n\n      if (option.renderArea) {\n        this.drawArea(layersEnter, layers, y, option, option.smooth ?  d3.curveMonotoneX : d3.curveCardinal.tension(1));\n      }\n    } else if (chart === 'stepLine') {\n      const chartBody = this.chartBodyG();\n      let layersList = chartBody.selectAll('g.stack-list');\n      if (layersList.empty()) {\n        layersList = chartBody.append('g').attr('class', 'stack-list');\n      }\n      const layers = layersList.selectAll('g.stack').data(data);\n      const layersEnter = layers.enter().append('g').attr('class', (d: any, i: number) => 'stack ' + '_' + i);\n      this.stepLine(layersEnter, layers, y, option);\n      if (option.renderArea) {\n        this.drawArea(layersEnter, layers, y, option, d3.curveStepAfter);\n      }\n\n      // 추가된 데이터가 있으면 다시 렌더\n      if (data.length !== layers.size()) {\n        this.plotData();\n      }\n    } else if (chart === 'symbol' || chart === 'boolean') {\n      if (this.chartBodyG().selectAll('path.symbol').empty()) {\n        this.chartBodyG().append('path').attr('class', 'symbol');\n      }\n      const layers = this.chartBodyG().selectAll('path.symbol').data(data);\n      layers.enter()\n        .append('g')\n        .attr('class', (d: any, i: number) => 'stack ' + '_' + i);\n\n      data.forEach((d: any, i: number) => this.renderSymbol(d, option));\n    } else if (chart === 'bar') {\n      const bars = this.multiOption.axisOption.filter((d: any) => d.type === 'bar');\n      const barIndex = bars.map((d: any) => d.series).indexOf(this._groupName);\n      if (this.chartBodyG().selectAll('g.stack').empty()) {\n        this.chartBodyG().append('g').attr('class', 'stack _0');\n      }\n      const layers = this.chartBodyG().selectAll('g.stack').data(data);\n      this.calculateBarWidth();\n      layers.enter()\n        .append('g')\n        .attr('class', (d: any, i: number) => {\n          return 'stack ' + '_' + i;\n        })\n        .merge(layers);\n\n      const last = layers.size() - 1;\n      layers.each((d: any, i: number) => {\n        const layer = d3.select(d);\n        this.renderBars(layers, i, d, y, option, bars, barIndex);\n\n        if (this.renderLabel() && last === i) {\n          this.renderLabels(layer, i, d);\n        }\n      });\n    } else if (chart === 'thermal') {\n      const xStep = option.gap, yStep = 1;\n      if (zoomX && zoomY) {\n        this.x().domain([zoomX[0], +zoomX[1]]);\n        y.domain([zoomY[0], zoomY[1] + yStep]);\n      } else {\n        this.x().domain([this.multiOption.xRange[0] - (xStep / 2), +this.multiOption.xRange[1] + (xStep / 2)]);\n        y.domain([option.domain[0], option.domain[1] + yStep]);\n      }\n\n      const layers = this.chartBodyG().selectAll('rect.thermal').data(data);\n      layers.enter()\n        .append('g')\n        .attr('class', (d: any, i: number) => 'stack ' + '_' + i);\n\n      data.forEach((d: any, i: number) => this.renderThermal(d, option, xStep, yStep, y));\n    }\n  }\n\n  barPadding(barPadding?: any) {\n    if (!barPadding) {\n      return this._rangeBandPadding();\n    }\n    this._rangeBandPadding(barPadding);\n    this._gap = undefined;\n    return this;\n  }\n\n  private calculateBarWidth() {\n    if (this._barWidth === undefined) {\n      const numberOfBars = this.xUnitCount();\n      if (this.isOrdinal() && this._gap === undefined) {\n        this._barWidth = Math.floor(this.x().bandwidth());\n      } else if (this._gap) {\n        this._barWidth = Math.floor((this.xAxisLength() - (numberOfBars - 1) * this._gap) / numberOfBars);\n      } else {\n        this._barWidth = Math.floor(this.xAxisLength() / (1 + this.barPadding()) / numberOfBars);\n      }\n\n      if (this._barWidth === Infinity || isNaN(this._barWidth) || this._barWidth < this.MIN_BAR_WIDTH) {\n        this._barWidth = this.MIN_BAR_WIDTH;\n      }\n    }\n  }\n\n  private drawLine(layersEnter: any, layers: any, y: any, option: any, smooth?: any) {\n    let bandwidth = 0;\n    if (this.x().bandwidth) {\n      bandwidth = this.x().bandwidth() / 2;\n    }\n\n    const line = d3.line()\n      .x((d: any) => this.x()(d.x) + bandwidth)\n      .y((d: any) => y ? y(d.y) : this.y()(d.y))\n      .curve(smooth ? d3.curveMonotoneX : d3.curveCardinal.tension(1));\n\n    if (this._defined) {\n      line.defined(this._defined);\n    }\n\n    const path = layersEnter.append('path').attr('class', 'line').attr('stroke', option.color ? option.color : this.colors2.bind(this))\n      .attr('stroke', option.color ? option.color : this.colors2.bind(this))\n      .attr('d', (d: any) => this.safeD(line(d.values)))\n      .attr('chartKey', (d: any) => d.key)\n      .style('stroke-width', option.lineWidth + 'px');\n    if (option.dashStyle) {\n      path.attr('stroke-dasharray', option.dashStyle);\n    }\n\n    transition(layers.select('path.line'), this.transitionDuration(), this.transitionDelay())\n      .attr('stroke', option.color ? option.color : this.colors2.bind(this))\n      .attr('d', d => this.safeD(line(d.values)))\n      .attr('seriesKey', d => d.values[0].data.key[0])\n      .style('stroke-width', option.lineWidth + 'px');\n  }\n\n  private colors2(d: any, i: number) {\n    return this.getColor.call(d, d.values, i);\n  }\n\n  private safeD(d: any) {\n    return (!d || d.indexOf('NaN') >= 0) ? 'M0,0' : d;\n  }\n\n  private renderSymbol(d: any, option: any) {\n    const getSymbol = () => {\n      if (option.symbol) {\n        if (option.symbol === 'cross') {\n          return d3.symbolCross;\n        } else if (option.symbol === 'diamond') {\n          return d3.symbolDiamond;\n        } else if (option.symbol === 'square') {\n          return d3.symbolSquare;\n        } else if (option.symbol === 'star') {\n          return d3.symbolStar;\n        } else if (option.symbol === 'triangle') {\n          return d3.symbolTriangle;\n        } else if (option.symbol === 'wye') {\n          return d3.symbolWye;\n        } else {\n          return d3.symbolCircle;\n        }\n      } else {\n        return d3.symbolCircle;\n      }\n    };\n\n    const symbolSize = () => {\n      if (option.size) {\n        return option.size * option.size;\n      } else {\n        return 7 * 7;\n      }\n    };\n\n    const color = option.colorOption ? option.colorOption : (option.color || this.getColor);\n\n    const symbols = this.chartBodyG().selectAll('path.symbol').data(d.values);\n    symbols.enter()\n      .append('path').attr('class', 'symbol')\n      .attr('opacity', 0)\n      .attr('fill', option.color ? option.color : this.getColor)\n      .attr('transform', this._locator)\n      .attr('d', d3.symbol().type(getSymbol()).size(symbolSize()))\n      .on('click', (data: any) => {\n        if (this._click) {\n          // @ts-ignore\n          return this._click(d);\n        }\n      });\n\n    if (this.multiOption.tooltip) {\n      const tooltip = this.getTooltipElem();\n      symbols\n        .on('mousemove', (data: any) => {\n          // @ts-ignore\n          const pageX = event.pageX;\n          // @ts-ignore\n          const pageY = event.pageY;\n          let left = 0, top = 0;\n\n          tooltip.transition()\n            .duration(100)\n            .style('opacity', .9)\n            .style('background', color)\n            .style('border-color', color)\n            .style('z-index', 10000);\n          tooltip.html(this.multiOption.tooltip(data));\n\n          setTimeout(() => {\n            const toolX = tooltip.node().clientWidth;\n            const toolY = tooltip.node().clientHeight;\n            top = pageY - toolY - 15;\n            left = pageX - (toolX / 2);\n\n            tooltip\n              .style('top', top + 'px')\n              .style('left', left + 'px');\n          });\n        })\n        .on('mouseout', (data: any) => {\n          tooltip .transition()\n            .duration(200)\n            .style('opacity', 0)\n            .style('z-index', -1);\n        });\n    }\n\n    if (this.multiOption.onClick) {\n      // @ts-ignore\n      symbols.on('click', (data: any) => this.multiOption.onClick(data, event));\n    }\n\n    // @ts-ignore\n    transition(symbols, this.transitionDuration(), this.transitionDelay())\n      .attr('opacity', (data, i) => isNaN(this._existenceAccessor(data)) ? 0 : this._filtered[i] ? 1 : this.excludedOpacity())\n      .attr('stroke', (data, i) => {\n        if (this.excludedColor() && !this._filtered[i]) {\n          return this.excludedColor();\n        } else if (typeof color === 'function' ) {\n          return color(data.data.value);\n        } else {\n          return color;\n        }\n      })\n      .attr('seriesKey', data => data.data.key[0])\n      .attr('fill', '#fff')\n      .attr('transform', this._locator)\n      // @ts-ignore\n      .attr('d', d3.symbol().type(getSymbol()).size(symbolSize()));\n\n    transition(symbols.exit(), this.transitionDuration(), this.transitionDelay()).attr('opacity', 0).remove();\n\n    // 추가된 데이터가 있으면 다시 렌더\n    if (d.values && d.values.length !== symbols.size()) {\n      this.renderSymbol(d, option);\n    }\n  }\n\n  private barHeight(y: any, d: any) {\n    const rtn = +(this.yAxisHeight() - y(d.y)) < 0 ? 0 : utils.safeNumber(+(this.yAxisHeight() - y(d.y)));\n    if (d.y0 !== undefined) {\n      return (y(d.y0) - y(d.y + d.y0));\n    }\n\n    return rtn;\n  }\n\n  private drawArea(layersEnter: any, layers: any, y: any, option: any, curve: any) {\n    const area = d3.area()\n      .x((d: any) => this.x()(d.x))\n      .y1((d: any) =>  y ? y(d.y) : this.y()(d.y))\n      .y0((d: any) => {\n        if (option.renderAreaRange) {\n          return y ? y(option.renderAreaRange) : this.y()(option.renderAreaRange);\n        } else {\n          return this.yAxisHeight();\n        }\n      })\n      .curve(curve);\n    if (this._defined) {\n      area.defined(this._defined);\n    }\n\n    layersEnter.append('path')\n      .attr('class', 'area')\n      .attr('fill', option.color ? option.color : this.colors2.bind(this))\n      .attr('d', (d: any) => this.safeD(area(d.values)));\n\n    transition(layers.select('path.area'), this.transitionDuration(), this.transitionDelay())\n      .attr('stroke', option.color ? option.color : this.colors2.bind(this)).attr('d', d => this.safeD(area(d.values)));\n  }\n\n  private renderLabels(layer: any, layerIndex: any, d: any) {\n    const labels = layer.selectAll('text.barLabel')\n      .data(d.values, pluck('x'));\n\n    labels.enter()\n      .append('text')\n      .attr('class', 'barLabel')\n      .attr('text-anchor', 'middle');\n\n    if (this.isOrdinal()) {\n      labels.attr('cursor', 'pointer');\n    }\n\n    transition(labels, this.transitionDuration(), this.transitionDelay())\n      .attr('x', data => {\n        let x = this.x()(data.x);\n        if (!this._centerBar) {\n          x += this._barWidth / 2;\n        }\n        return utils.safeNumber(x);\n      })\n      .attr('y', data => {\n        let y = this.y()(data.y + data.y0);\n\n        if (data.y < 0) {\n          y -= this.barHeight(y, data);\n        }\n\n        return utils.safeNumber(y - 3);\n      })\n      .text(data =>  this.label()(data));\n\n    transition(labels.exit(), this.transitionDuration(), this.transitionDelay())\n      .attr('height', 0)\n      .remove();\n  }\n\n  private renderThermal(data: any, option: any, xStep: any, yStep: any, y: any) {\n    const symbols = this.chartBodyG().selectAll('rect.thermal').data(data.values);\n    symbols.enter().append('rect').attr('class', 'thermal');\n    transition(symbols, this.transitionDuration(), this.transitionDelay())\n      .attr('x', d => this.x()((+d.x - xStep / 2)))\n      .attr('y', d => y(+d.y + yStep))\n      .attr('width', this.x()(this.x().domain()[0] + xStep) - this.x()(this.x().domain()[0]))\n      .attr('height', y(y.domain()[0]) - y(y.domain()[0] + yStep))\n      .attr('opacity', d => isNaN(d.z) ? 0 : 1)\n      .style('fill', d => option.colorScale(option.colorAccessor(d.data)));\n    transition(symbols.exit(), this.transitionDuration(), this.transitionDelay()).attr('opacity', 0).remove();\n  }\n\n  private renderBars(layer: any, layerIndex: any, data: any, y: any, option: any, barlist: any, barIndex: any) {\n    const bars = layer.selectAll('rect.bar').data(data.values, pluck('x'));\n    let ordinalType = false;\n    if (option.barWidth) {\n      this._barWidth = option.barWidth;\n    }\n\n    if (this._x.bandwidth) {\n      ordinalType = true;\n      this._barWidth = this._x.bandwidth();\n    }\n\n    if (this.multiOption.xAxisOption && this.multiOption.xAxisOption.type === 'date') {\n      const {left, right} = this.margins();\n      const xAxisWidth = this._widthCalc() - left - right;\n      const uniqKeys = _.uniq(this.data().map((d: any) => d.key[1]));\n\n      this._barWidth = xAxisWidth / uniqKeys.length;\n    }\n\n    transition(bars.exit(), this.transitionDuration(), this.transitionDelay())\n      .attr('x', d => this.x()(d.x))\n      .attr('width', this._barWidth * 0.9)\n      .remove();\n\n    bars.enter()\n      .append('rect')\n      .attr('class', 'bar')\n      .attr('x', (d: any) => {\n        let x = this.x()(d.x);\n        if (this._centerBar && !this.isOrdinal()) {\n          x -= this._barWidth / 2;\n        }\n        if (this.isOrdinal() && this._gap !== undefined) {\n          x += this._gap / 2;\n        }\n        const position = (this._barWidth / barlist.length) * barIndex;\n        return utils.safeNumber(x + position);\n      })\n      .attr('y', (d: any) => {\n        let yVal;\n        if (d.y0 !== undefined) {\n          yVal = y(d.y + d.y0);\n          if (d.y < 0) {\n            yVal -= this.barHeight(y, d);\n          }\n        } else {\n          yVal = y(d.y);\n        }\n        return utils.safeNumber(yVal);\n      })\n      .attr('width', this._barWidth / barlist.length)\n      .attr('height', (d: any) => this.barHeight(y, d))\n      .attr('fill', pluck('layer', option.color ? (d: any, i: number) => {\n        if (option.stacks) {\n          const index = option.stacks.indexOf(d);\n          return option.color[index];\n        } else {\n          return option.color;\n        }\n      } : this.getColor))\n      .select('title').text(pluck('data', this.title(data.name)));\n\n    if (this.multiOption.onClick) {\n      // @ts-ignore\n      bars.on('click', (d: any) => this.multiOption.onClick(d, event));\n    }\n\n    transition(bars, this.transitionDuration(), this.transitionDelay())\n      .attr('x', d => {\n        let x = this.x()(d.x);\n        if (this._centerBar && !this.isOrdinal()) {\n          x -= this._barWidth / 2;\n        }\n        if (this.isOrdinal() && this._gap !== undefined) {\n          x += this._gap / 2;\n        }\n        const position = (this._barWidth / barlist.length) * barIndex;\n        return utils.safeNumber(x + position);\n      })\n      .attr('y', d => {\n        let yVal;\n        if (d.y0 !== undefined) {\n          yVal = y(d.y + d.y0);\n          if (d.y < 0) {\n            yVal -= this.barHeight(y, d);\n          }\n        } else {\n          yVal = y(d.y);\n        }\n        return utils.safeNumber(yVal);\n      })\n      .attr('width', this._barWidth / barlist.length)\n      .attr('height', d => this.barHeight(y, d))\n      .attr('fill', pluck('layer', option.color ? (d: any, i: number) => {\n        if (option.stacks) {\n          const index = option.stacks.indexOf(d);\n          return option.color[index];\n        } else {\n          return option.color;\n        }\n      } : this.getColor))\n      .select('title').text(pluck('data', this.title(data.name)));\n  }\n\n  private stepLine(layersEnter: any, layers: any, y: any, option: any) {\n    let bandwidth = 0;\n    if (this.x().bandwidth) {\n      bandwidth = this.x().bandwidth() / 2;\n    }\n\n    const line = d3.line()\n      .x((d: any) => (this.x()(d.x) + bandwidth))\n      .y((d: any) => y ? y(d.y) : this.y()(d.y))\n      .curve(d3.curveStepAfter);\n\n    if (this._defined) {\n      line.defined(this._defined);\n    }\n\n    const path = layersEnter.append('path').attr('class', 'line').attr('stroke', option.color ? option.color : this.colors2.bind(this));\n\n    if (option.dashStyle) {\n      path.attr('stroke-dasharray', option.dashStyle);\n    }\n    transition(layers.select('path.line'), this.transitionDuration(), this.transitionDelay())\n      .attr('stroke', option.color ? option.color : this.colors2.bind(this))\n      .attr('d', d => this.safeD(line(d.values)))\n      .style('stroke-width', option.lineWidth + 'px');\n  }\n\n  symbol(type?: any) {\n    if (!type) {\n      return this._symbol.type();\n    }\n    this._symbol.type(type);\n    return this;\n  }\n\n  excludedColor(excludedColor?: any) {\n    if (!excludedColor) {\n      return this._excludedColor;\n    }\n    this._excludedColor = excludedColor;\n    return this;\n  }\n\n  excludedOpacity(excludedOpacity?: any) {\n    if (!excludedOpacity) {\n      return this._excludedOpacity;\n    }\n    this._excludedOpacity = excludedOpacity;\n    return this;\n  }\n\n  private resizeSymbolsWhere(condition: any, size: any) {\n    // @ts-ignore\n    const symbols = this.selectAll('.chart-body path.symbol').filter(() => condition(d3.select(this)));\n    const oldSize = this._symbol.size();\n    this._symbol.size(Math.pow(size, 2));\n\n    // @ts-ignore\n    transition(symbols, this.transitionDuration(), this.transitionDelay()).attr('d', this._symbol);\n    this._symbol.size(oldSize);\n  }\n\n  extendBrush() {\n    const extent = this.brush().extent();\n    if (this.round()) {\n      extent[0] = extent[0].map(this.round());\n      extent[1] = extent[1].map(this.round());\n      this.g().select('.brush').call(this.brush().extent(extent));\n    }\n    return extent;\n  }\n\n  brushIsEmpty(extent: any) {\n    return this.brush().empty() || !extent || extent[0][0] >= extent[1][0] || extent[0][1] >= extent[1][1];\n  }\n\n  _brushing() {\n    const extent = this.extendBrush();\n    this.redrawBrush(this.g());\n    if (this.brushIsEmpty(extent)) {\n      events.trigger(() => {\n        this.filter(null);\n        this.redrawGroup();\n      });\n    } else {\n      const ranged2DFilter = filters.RangedTwoDimensionalFilter(extent);\n      events.trigger(() => {\n        this.filter(null);\n        this.filter(ranged2DFilter);\n        this.redrawGroup();\n      }, constants.EVENT_DELAY);\n    }\n  }\n\n  private getTooltipElem() {\n    if (!this._tooltip || this._tooltip.empty()) {\n      this._tooltip  = d3.select('body')\n        .append('div')\n        .attr('class', 'wise-chart-tooltip')\n        .html('')\n        .style('opacity', 0)\n        .style('position', 'absolute')\n        .style('z-index', -1);\n    }\n    return this._tooltip;\n  }\n}\n","\nimport {DcChart} from '../base/dc-chart';\nimport {DjChartOption} from '../class/dj-chart-option';\nimport {CloudChart} from './cloud-chart';\nimport {MultiChart} from './multi-chart';\n\nexport class DjChart extends DcChart {\n  private option:DjChartOption;\n\n  constructor(option: DjChartOption) {\n    super();\n    this.option = option;\n  }\n\n  cloudChart(element: Element) {\n    return new CloudChart(element, this.option);\n  }\n\n  multiChart(element: Element) {\n    const chart = new MultiChart(element, this.option);\n    return chart['anchor'](element);\n  }\n\n}\n","import {Component, ElementRef, EventEmitter, Input, NgZone, OnInit, Output} from '@angular/core';\nimport * as d3 from 'd3';\nimport {isArray} from 'rxjs/internal-compatibility';\nimport moment from 'moment';\nimport {transition} from 'dc';\nimport {DjChart} from './chart/dj-chart';\nimport {DjChartOption} from './class/dj-chart-option';\n\n@Component({\n  selector: 'dj-chart',\n  template: ``,\n  styleUrls: ['./angular-dj-chart.component.scss']\n})\nexport class AngularDjChartComponent implements OnInit {\n\n  djChart?: DjChart;\n\n  observer: ResizeObserver | undefined;\n  domWidth: number | undefined;\n  resizeDelay = 300;\n  resizeTimer: any;\n\n  chart: any;\n  axisOption?: any;\n  wiseChart?: any;\n  width?: any;\n  height?: any;\n  _tooltip?: any;\n\n  _option?: DjChartOption;\n  @Input('option')\n  set option(option:DjChartOption) {\n    if (option.type === 'composite') {\n      option.setAxisOption();\n    }\n\n    this.wiseChart = new DjChart(option);\n    this._option = option;\n\n    switch (option.type) {\n      case 'pieChart':\n        this.chart = this.wiseChart.pieChart(this.elRef.nativeElement);\n        this.setPieChart();\n        break;\n      case 'cloudChart':\n        this.chart = this.wiseChart.cloudChart(this.elRef.nativeElement);\n        this.setCloudChart();\n        break;\n      case 'dcChart':\n        this.setDcChart();\n        break;\n      default:\n        this.chart = this.wiseChart.seriesChart(this.elRef.nativeElement);\n        this.setMultiSeries();\n        break;\n    }\n\n    this.chart.render();\n    this.rendered.emit(this.chart);\n  }\n  get option() {\n    // @ts-ignore\n    return this._option;\n  }\n\n  @Output() changFilter: EventEmitter<any> = new EventEmitter<any>();\n  @Output() rendered: EventEmitter<any> = new EventEmitter<any>();\n\n\n  constructor(\n    private elRef: ElementRef,\n    private zone: NgZone\n  ) {}\n\n  ngOnInit() {\n    // init document width\n    this.domWidth = this.elRef.nativeElement.clientWidth;\n    // element 사이즈가 변경되었을때\n    this.observer = new ResizeObserver(entries => {\n      this.zone.runOutsideAngular(() => {\n        // resize duration: this.resizeDelay\n        const width = entries[0].contentRect.width;\n        clearTimeout(this.resizeTimer);\n        this.resizeTimer = setTimeout(() => {\n          if (this.domWidth !== width) {\n            this.domWidth = width;\n\n            // redraw\n            if (this.chart) {\n              this.chart.minWidth(100);\n              this.chart.minHeight(50);\n              this.chart.width(0);\n              this.chart.height(0);\n              if (this.chart.rescale) {\n                this.chart.rescale();\n              }\n              if (this.chart.update) {\n                this.chart.update();\n              } else {\n                this.chart.redraw();\n              }\n            }\n          }\n        }, this.resizeDelay);\n\n      });\n    });\n\n    this.observer.observe(this.elRef.nativeElement);\n  }\n\n\n  ngOnDestroy() {\n    // 생성된 tooltip 제거\n    if (this._tooltip) {\n      this._tooltip.remove();\n    }\n    if (this.chart.children) {\n      this.chart.children().forEach((chart: any) => {\n        if (chart._tooltip) {\n          chart._tooltip.remove();\n        }\n      });\n    }\n\n    // @ts-ignore\n    this.observer.unobserve(this.elRef.nativeElement);\n  }\n\n\n  create() {\n    this.setWidthHeight();\n    this.setMargins();\n\n    // input type이 crossfilter와 data일때 처리\n    if (this.option.data !== undefined) {\n      this.chart.dimension(this.filter());\n      this.chart.group({all: () => this.option.data, size: () => this.option.data.length});\n    } else {\n      this.chart.dimension(this.option.dimension);\n      this.chart.group(this.option.group);\n    }\n\n    const overrideFields = ['onClick'];\n    overrideFields.forEach(key => {\n      // @ts-ignore\n      if (this.option[key] !== undefined) {\n        if (key === 'onClick') {\n          // @ts-ignore\n          this.chart[key] = (d: any) => this.option.onClick(d, event);\n        } else {\n          // @ts-ignore\n          this.chart[key] = this.option[key];\n        }\n      }\n    });\n\n    if (this.option.onClickEvent) {\n      this.chart['_onClickEvent'] = this.chart.onClick;\n      this.chart['onClick'] = (d: any) => {\n        this.chart._onClickEvent(d);\n        this.option.onClickEvent(d);\n      };\n    }\n\n    if (this.option.onFilterChanged) {\n      // @ts-ignore\n      this.chart.on('filtered', (d: any) => this.option.onFilterChanged(d));\n    }\n\n    this.option['chart'] = this.chart;\n  }\n\n  private setPieChart() {\n    this.create();\n    const _innerRadius = this.option.innerRadius || 30;\n    const _radius = this.option.radius || 80;\n    const _externalLabels = this.option.externalLabels || 0;\n    const size = d3.min([+this.width, +this.height]);\n\n    this.chart\n      // @ts-ignore\n      .radius((size / 2) * (_radius / 100))\n      // @ts-ignore\n      .innerRadius((size / 2) * (_innerRadius / 100))\n      .externalLabels(_externalLabels)\n      .drawPaths(true);\n\n    if (this.option.slicesPercent) {\n      let data = this.option.data ? this.option.data : this.option.group.all();\n      data = data.sort((a: any, b: any) => b.value - a.value);\n      let sum = 0;\n      let index = 0;\n      data.forEach((d: any) => sum += d.value);\n      while (index < data.length) {\n        const percent = (data[index].value / sum) * 100;\n        if (percent < this.option.slicesPercent) {\n          break;\n        }\n        index++;\n      }\n\n      this.chart.slicesCap(index);\n    }\n\n    if (this.option.slicesCap) {\n      this.chart.slicesCap(this.option.slicesCap);\n    }\n\n    if (this.option.colors) {\n      this.chart.colors((d: any) => {\n        const key = isArray(d) ? d[0] : d;\n        // @ts-ignore\n        return this.option.colors[key] || '#ccc';\n      });\n    }\n\n    this.chart.on('pretransition', (chart: any) => {\n      chart.selectAll('text.pie-slice').text((d: any) => {\n        let key = d.data.key;\n        const angle = d.endAngle - d.startAngle;\n        if (this.option.legends) {\n          key = this.option.legends[key] || key;\n        }\n\n        if (angle > 0.5 || (angle > 0.5 && _externalLabels)) {\n          return key;\n        }\n        return '';\n      });\n\n      if (this.option.tooltip) {\n        const tooltip = this.getTooltipElem();\n        chart.selectAll('title').remove();\n        chart.selectAll('g.pie-slice')\n          .on('mousemove', (data: any) => {\n            const key = isArray(data.data.key) ? data.data.key[0] : data.data.key;\n            const color = this.option.colors ? this.option.colors[key] : this.chart.getColor(data.data);\n            // @ts-ignore\n            const pageX = event.pageX;\n            // @ts-ignore\n            const pageY = event.pageY;\n            let left = 0, top = 0;\n\n            tooltip.transition()\n              .duration(100)\n              .style('opacity', .9)\n              .style('background', color)\n              .style('border-color', color)\n              .style('z-index', 10000);\n            tooltip.html(this.option.tooltip(data));\n\n            setTimeout(() => {\n              const toolX = tooltip.node().clientWidth;\n              const toolY = tooltip.node().clientHeight;\n              top = pageY - toolY - 20;\n              left = pageX - (toolX / 2);\n\n              tooltip\n                .style('top', top + 'px')\n                .style('left', left + 'px');\n            });\n          })\n          .on('mouseout', (data: any) => {\n            tooltip .transition()\n              .duration(300)\n              .style('opacity', 0)\n              .style('z-index', -1);\n          });\n\n        /*symbols\n          */\n\n      }\n    });\n  }\n\n  private setDcChart() {\n    // @ts-ignore\n    this.chart = this.wiseChart[this.option.dcChart](this.elRef.nativeElement);\n    this.create();\n\n    Object.keys(this.option).forEach(key => {\n      if (this.chart[key]) {\n        // @ts-ignore\n        this.chart[key](this.option[key]);\n      }\n    });\n  }\n\n  private setCloudChart() {\n    this.create();\n    this.chart.padding(this.option.padding);\n    this.chart.legends(this.option.legends);\n  }\n\n  private setMargins() {\n    if (this.option.margins) {\n      this.chart.margins().left = this.option.margins.left !== undefined ? +this.option.margins.left : 30;\n      this.chart.margins().right = this.option.margins.right !== undefined ? +this.option.margins.right : 50;\n      this.chart.margins().bottom = this.option.margins.bottom !== undefined ? +this.option.margins.bottom : 30;\n      this.chart.margins().top = this.option.margins.top !== undefined ? +this.option.margins.top : 10;\n    }\n  }\n\n  private setMultiSeries() {\n    this.create();\n\n    let min = d3.min(this.chart.group().all(), (d: any) => +d.key[1]) || 0;\n    let max = d3.max(this.chart.group().all(), (d: any) => +d.key[1]);\n    const subChart = (c: any) => {\n      return this.wiseChart.multiChart(c);\n    };\n\n\n    const rightYAxisWidth = 0;\n    let leftYAxisWidth = 30;\n    this.chart\n      .chart(subChart)\n      .renderHorizontalGridLines(true)\n      .renderVerticalGridLines(true)\n      // @ts-ignore\n      .x(d3.scaleLinear().domain([min, max]))\n      .yAxisLabel(this.option.axisOption && this.option.axisOption.length ? this.option.axisOption[0].axisLabel : this.option.yAxisLabel)\n      .xAxisLabel(this.option.xAxisLabel)\n      .clipPadding(5)\n      .elasticY(false)\n      .mouseZoomable(false)\n      .brushOn(false)\n      .seriesAccessor((d: any) => d.key[0])\n      .seriesSort((a: any, b: any) => {\n        const orderList = this.option.axisOption.map((d: any) => d.series);\n        return orderList.indexOf(a) - orderList.indexOf(b);\n      })\n      .keyAccessor((d: any) => {\n        return d.key ? isNaN(d.key[1]) ? d.key[1] : +d.key[1] : null;\n      })\n      .valueAccessor((d: any) => d.value);\n\n    // set lef y axis\n    this.setLeftYAxis();\n\n    // xAxis\n    if (this.option.xAxisOption) {\n      if (this.option.xAxisOption.domain) {\n        min = this.option.xAxisOption.domain[0];\n        max = this.option.xAxisOption.domain[1];\n      }\n      switch (this.option.xAxisOption.type) {\n        case 'ordinal':\n          this.chart.x(d3.scaleBand()).xUnits(this.wiseChart.units.ordinal).domain([min, max]);\n          break;\n        case 'date':\n          if (this.option.xAxisOption.domain) {\n            min = moment(min, this.option.xAxisOption.dateFormat).valueOf();\n            max = moment(max, this.option.xAxisOption.dateFormat).valueOf();\n          }\n          // @ts-ignore\n          this.chart.x(d3.scaleTime().domain([new Date(min), new Date(max)]));\n          if (this.option.xAxisOption.dateTickFormat) {\n            // @ts-ignore\n            this.chart.xAxis().tickFormat((d: any) => moment(d).format(this.option.xAxisOption.dateTickFormat));\n          }\n          break;\n        default:\n          // @ts-ignore\n          this.chart.x(d3.scaleLinear().domain([min, max]));\n          break;\n      }\n\n      if (this.option.xAxisOption.ticks) {\n        this.chart.xAxis().ticks(this.option.xAxisOption.ticks);\n      }\n      if (this.option.xAxisOption.tickFormat) {\n        this.chart.xAxis().tickFormat(this.option.xAxisOption.tickFormat);\n      }\n\n      this.chart.xAxisLabel(this.option.xAxisOption.axisLabel);\n    }\n\n    // series sort\n    if (this.option.order) {\n      this.chart.seriesSort((a: string, b: string) => {\n        const order = this.option.order;\n        const before = order.indexOf(a);\n        const after = order.indexOf(b);\n        return before - after;\n      });\n    }\n\n    // renderlet\n    this.chart['renderOn'] = (chart: any) => {\n      if (this.option.highlight) {\n        this.renderHighlight(chart);\n      }\n    };\n\n    // update\n    this.chart['update'] = () => {\n      let rightWidth = 0;\n      this.chart.redraw();\n      this.setLeftYAxis();\n\n      setTimeout(() => {\n        this.option.axisOption.forEach((v: any, i: any) => {\n          if (i && !v.hide) {\n            rightWidth += +v.width ? +v.width : 0;\n          }\n        });\n        // right yAxis 2개 이상부터 35씩 추가\n        // @ts-ignore\n        if (this.option.yAxisOptions.length > 2) {\n          // @ts-ignore\n          rightWidth += (this.option.yAxisOptions.length - 2) * 35;\n        }\n\n        if (this.option.elasticRightMargin) {\n          this.chart.margins().right = this.chart.marginRight + rightWidth;\n        } else {\n          this.chart.margins().right = this.chart.marginRight;\n        }\n\n\n        // left yAxis 의 width 구하기\n        if (this.option.elasticLeftMargin) {\n          leftYAxisWidth = this.chart.svg().selectAll('.axis.y')._groups[0][0].getBoundingClientRect().width + 20;\n          this.chart.margins().left = this.option.axisOption[0].axisLabel || this.option.yAxisLabel ? leftYAxisWidth : this.chart.margins().left;\n        }\n\n        // left margin 영역 만큼 chart g 이동\n        const chartBodys = this.chart.g().selectAll('g.chart-body');\n        const gridLines = this.chart.g().selectAll('g.grid-line');\n        const highlight = this.chart.g().selectAll('g.highlight');\n        transition(chartBodys, this.chart.transitionDuration(), this.chart.transitionDelay())\n          .attr('transform', `translate(${this.chart.margins().left}, ${this.chart.margins().top})`);\n        transition(gridLines, this.chart.transitionDuration(), this.chart.transitionDelay())\n          .attr('transform', `translate(${this.chart.margins().left}, ${this.chart.margins().top})`);\n        transition(highlight, this.chart.transitionDuration(), this.chart.transitionDelay())\n          .attr('transform', `translate(${this.chart.margins().left}, ${this.chart.margins().top})`);\n\n\n        setTimeout(() => {\n          this.chart.redraw();\n        });\n      }, 500);\n    };\n\n    // redraw change\n    this.chart['_redraw'] = this.chart.redraw;\n    this.chart['_redraw'] = this.chart.redraw;\n    this.chart['redraw'] = () => {\n      this.chart._redraw();\n      this.chart.renderOn(this.chart);\n    };\n\n\n    // render change\n    this.chart['_render'] = this.chart.render;\n    this.chart.render = () => {\n      this.chart['marginRight'] = this.chart.margins().right;\n      this.chart._render();\n\n      setTimeout(() => {\n        this.chart.update();\n      }, 300);\n    };\n  }\n\n  private setLeftYAxis() {\n    const axisOption = this.option.axisOption;\n    if (axisOption && axisOption[0]) {\n      let domain;\n      const leftOption = axisOption[0];\n      // domain\n      if (axisOption && axisOption.length && leftOption.domain) {\n        domain = leftOption.domain;\n      } else {\n        if (this.chart.group().all().length) {\n\n          domain = [\n            // @ts-ignore\n            d3.min(this.chart.group().all(),\n              (d: any) => typeof d.value === 'object' ? d.value.value : d.value) + (this.option.gap ? - this.option.gap : 0\n            ),\n            d3.max(this.chart.group().all(),\n              (d: any) => typeof d.value === 'object' ? d.value.value : d.value) + (this.option.gap ? this.option.gap : 0\n            )\n          ];\n        } else {\n          domain = [0, 100];\n        }\n      }\n      this.chart.y(d3.scaleLinear().domain(domain ? domain : [0, 100]));\n\n      // tickformat\n      if (leftOption.tickFormat) {\n        this.chart.yAxis().tickFormat(leftOption.tickFormat);\n      } else if (leftOption.prevTickText || leftOption.nextTickText) {\n        const tickFormat = (d: any) => {\n          let tick = '';\n          if (leftOption.prevTickText) {\n            tick += leftOption.prevTickText;\n          }\n          tick += this.commaSeparateNumber(d) || 0;\n          if (leftOption.nextTickText) {\n            tick += leftOption.nextTickText;\n          }\n\n          return tick;\n        };\n        this.chart.yAxis().tickFormat(tickFormat);\n      } else {\n        this.chart.yAxis().tickFormat((d: any) => this.commaSeparateNumber(d) || 0);\n      }\n\n      // label\n      if (leftOption.axisLabel) {\n        this.chart.yAxisLabel(leftOption.axisLabel);\n      }\n    } else {\n      this.chart.y(d3.scaleLinear().domain([0, 100]));\n    }\n  }\n\n  private setWidthHeight() {\n    this.width = this.option.width ? this.option.width : this.elRef.nativeElement.clientWidth || 200;\n    this.height = this.option.height ? this.option.height : this.elRef.nativeElement.clientHeight || 400;\n\n    this.chart\n      .width(this.width)\n      .height(this.height);\n  }\n\n  private filter() {\n    if (!this.option.filters) {\n      this.option['filters'] = [];\n    }\n\n    return {\n      filter: (d: any) => {\n        this.option.filters = this.getFilters();\n        this.changFilter.emit();\n      },\n      filterExact: (d: any) => {\n        this.option.filters = this.getFilters();\n        this.changFilter.emit();\n      },\n      filterFunction: (d: any, e: any) => {\n        this.option.filters = this.getFilters();\n        this.changFilter.emit();\n      }\n    };\n  }\n\n  private getFilters() {\n    const filters =  this.chart.filters().map((d: any) => {\n      if (Array.isArray(d)) {\n        return d[0];\n      } else {\n        return d;\n      }\n    });\n    return filters;\n  }\n\n  private getTooltipElem() {\n    if (!this._tooltip || this._tooltip.empty()) {\n      this._tooltip  = d3.select('body')\n        .append('div')\n        .attr('class', 'wise-chart-tooltip')\n        .html('')\n        .style('opacity', 0)\n        .style('position', 'absolute')\n        .style('z-index', 10000);\n    }\n    return this._tooltip;\n  }\n\n  private renderHighlight (chart: any) {\n    const g = chart.g();\n\n    let highlight = g.selectAll('g.highlight');\n    if (highlight.empty()) {\n      highlight = g.insert('g', ':first-child')\n        .attr('class', 'highlight')\n        .attr('transform', `translate(${this.chart.margins().left},${this.chart.margins().top})`);\n    }\n\n    const sections = highlight.selectAll('rect.section').data(this.option.highlight);\n    sections.enter()\n      .append('rect')\n      .attr('class', (d: any, i: number) => `section _${i}`)\n      .attr('fill', (d: any) => d.color || 'blue')\n      .attr('fill-opacity', (d: any) => d.opacity || .3)\n      .attr('stroke', '#fff')\n      .attr('x', (d: any) => {\n        const domain = d.domain;\n        let x0;\n        // @ts-ignore\n        if (this.option.xAxisOption.type === 'date') {\n          // @ts-ignore\n          const dateFormat = this.option.xAxisOption.dateFormat;\n          if (domain[0].valueOf) {\n            x0 = domain[0].valueOf();\n          } else {\n            x0 = moment(domain[0], dateFormat).valueOf();\n          }\n        } else {\n          x0 = domain[0];\n        }\n        return this.chart.x()(x0);\n      })\n      .attr('y', 0)\n      .attr('height', this.chart.yAxisHeight())\n      .attr('width', (d: any) => {\n        const domain = d.domain;\n        let x0, x1;\n\n        // @ts-ignore\n        if (this.option.xAxisOption.type === 'date') {\n          // @ts-ignore\n          const dateFormat = this.option.xAxisOption.dateFormat;\n          x0 = moment(domain[0], dateFormat).valueOf();\n          x1 = moment(domain[1], dateFormat).valueOf();\n        } else {\n          x0 = domain[0];\n          x1 = domain[1];\n        }\n        const x = this.chart.x()(x0);\n        return this.chart.x()(x1) - x;\n      });\n\n    transition(sections, this.chart.transitionDuration(), this.chart.transitionDelay())\n      .attr('fill', d => d.color || 'blue')\n      .attr('fill-opacity', d => d.opacity || .3)\n      .attr('stroke', '#fff')\n      .attr('x', d => {\n        const domain = d.domain;\n        let x0;\n        // @ts-ignore\n        if (this.option.xAxisOption.type === 'date') {\n          // @ts-ignore\n          const dateFormat = this.option.xAxisOption.dateFormat;\n          x0 = moment(domain[0], dateFormat).valueOf();\n        } else {\n          x0 = domain[0];\n        }\n        return this.chart.x()(x0);\n      })\n      .attr('width', d => {\n        const domain = d.domain;\n        let x0, x1;\n\n        // @ts-ignore\n        if (this.option.xAxisOption.type === 'date') {\n          // @ts-ignore\n          const dateFormat = this.option.xAxisOption.dateFormat;\n          x0 = moment(domain[0], dateFormat).valueOf();\n          x1 = moment(domain[1], dateFormat).valueOf();\n        } else {\n          x0 = domain[0];\n          x1 = domain[1];\n        }\n        const x = this.chart.x()(x0);\n        return this.chart.x()(x1) - x;\n      });\n\n    transition(sections.exit(), this.chart.transitionDuration(), this.chart.transitionDelay()).attr('opacity', 0).remove();\n  }\n\n  private commaSeparateNumber (value?: any) {\n    if (!value) {\n      return '';\n    }\n    while (/(\\d+)(\\d{3})/.test(value.toString())) {\n      value = value.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,');\n    }\n    return value;\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { AngularDjChartComponent } from './angular-dj-chart.component';\n\n\n\n@NgModule({\n  declarations: [\n    AngularDjChartComponent\n  ],\n  imports: [\n  ],\n  exports: [\n    AngularDjChartComponent\n  ]\n})\nexport class AngularDjChartModule { }\n","import * as d3 from 'd3';\n\nexport class AxisOption {\n\n  axisLabel?: string;\n  color?: string;\n  domain?: number[];\n  hide?: boolean;\n  series?: any;\n  errorBar?: any;\n  type?: any;\n  size?: any;\n  tickFormat?: any;\n  ticks?: any;\n  renderArea?: any;\n  smooth?: any;\n  dashStyle?: any;\n  lineWidth?: any;\n\n  constructor(fields?: any) {\n    const fieldList = ['axisLabel', 'color', 'domain', 'hide', 'series', 'errorBar', 'type', 'size', 'tickFormat',\n      'ticks', 'renderArea', 'smooth', 'dashStyle', 'lineWidth'];\n    fieldList.forEach(key => {\n      if (fields[key] !== undefined) {\n        // @ts-ignore\n        this[key] = fields[key];\n      }\n    });\n  }\n\n  setDomain(data: Array<any>) {\n    // @ts-ignore\n    this.domain = [d3.min(data, d => d.value), d3.max(data, d => d.value)];\n  }\n\n  setAxisLabel(axisLabel: string) {\n    this.axisLabel = axisLabel;\n  }\n}\n","import * as _moment from 'moment';\r\nimport * as d3 from 'd3';\r\nimport * as _ from 'lodash';\r\nimport {AxisOption} from './axis-option';\r\nimport {DcChart} from '../base/dc-chart';\r\nconst moment = _moment;\r\n\r\nenum DjChartType {\r\n  PIE_CHART = 'pieChart',\r\n  CLOUD_CHART = 'cloudChart',\r\n  COMPOSITE = 'composite',\r\n  HEATMAP = 'heatmap',\r\n  DC_CHART = 'dcChart',\r\n  STACKED_BAR = 'stackedBar'\r\n}\r\n\r\nenum AxisOptionType {\r\n  DATE = 'date', // x축이 date 타입일때 지정\r\n  LINEAR = 'linear', // x축이 number 속성으로 range 표기가 필요할때 지정, domain 옵션 필요\r\n  ORDINAL = 'ordinal' // x축을 있는 그대로 표기할때 사용\r\n}\r\n\r\ninterface BasicAxisOption {\r\n  axisLabel: string; // x축에 표기될 label 설정\r\n  domain: Array<number>; // 제외 가능하며 제외시 value 의 min, max\r\n  prevTickText: string; // tick의 앞쪽에 나타날 문자를 지정 tickFormat 지정시 tickFormat 우선\r\n  nextTickText: string; // tick의 뒤쪽에 나타날 문자를 지정 tickFormat 지정시 tickFormat 우선\r\n  tickFormat: (value: any, index?: any, size?: any) => string; // tick 표기를 변경하고 싶을때 사용 해당옵션 적용시 최우선으로 적용\r\n  ticks: number; // x축에 몇개의 tick을 표기할지 설정\r\n}\r\n\r\ninterface XAxisOption extends BasicAxisOption {\r\n  type: AxisOptionType;\r\n  dateFormat: string; // type이 date 일때 필요 하며 data의 date format 형식 ex) YYYYMMDD\r\n  dateTickFormat: string; // type이 date 일때 필요 chart의 x축에 표기될 형식\r\n}\r\n\r\ninterface YAxisOption extends BasicAxisOption {\r\n  keys: Array<string>; // data의 key를 group 하여 축에 표기 [\"itemLarge/top\", \"itemLarge/bottom\", \"itemLarge/sportswear\"]\r\n  size: number; // seriesType 에 symbole이 포함되어 있을때 symbole의 크기\r\n  divideFactor: number;\r\n}\r\n\r\ninterface ChartOption {\r\n  data?: Array<any>;\r\n  type?: DjChartType;\r\n  onClick?: (data: any, event: any) => void;\r\n  onClickEvent?: any;\r\n  onFilterChanged?: (chart: any) => void;\r\n  legends?: { [key: string]: string; };\r\n  colors?: { [key: string]: string; };\r\n  seriesTypes?: { [key: string]: string; };\r\n  yAxisOptions?: Array<YAxisOption>;\r\n  yAxisLabel?: string;\r\n  xAxisOption?: XAxisOption;\r\n  xAxisLabel?: string;\r\n  dimension?: any;\r\n  group?: any;\r\n  tooltip?: any;\r\n  seriesOptions?:  {\r\n    [key: string]: {\r\n      renderArea: boolean; // default: false\r\n      smooth: boolean; // default: false\r\n      lineWidth: number; // default: 1.5, 선 굵기\r\n      dashStyle: string; // default: null\r\n      /*\r\n      * (선, 공백) repeat\r\n      * (5, 3, 2, 3) 이런식으로 가능\r\n      */\r\n    };\r\n  };\r\n  margins?: any;\r\n  highlight?: Array<{\r\n    domain: Array<any>; // [min, max]\r\n    color: string; // default: blue\r\n    label: string; // default: '',  highlight label\r\n    opacity: number; // (0~1, default: .3): 투명도\r\n  }>;\r\n  elasticLeftMargin: boolean;\r\n  elasticRightMargin: boolean;\r\n  innerRadius?: number;\r\n  externalLabels?: number;\r\n  slicesCap?: number;\r\n  slicesPercent?: number;\r\n  radius?: number;\r\n  padding?: any;\r\n}\r\n\r\nexport class DjChartOption {\r\n  data: any;\r\n  type?: DjChartType;\r\n  dcChart?: DcChart;\r\n  legends?: { [key: string]: string; };\r\n  colors?: { [key: string]: string; };\r\n  slicesCap?: number;\r\n  slicesPercent?: number;\r\n  radius?: number;\r\n  externalLabels?: number;\r\n  innerRadius?: number;\r\n  padding?: any;\r\n  seriesTypes?: { [key: string]: string; };\r\n  seriesOptions?:  {\r\n    [key: string]: {\r\n      renderArea: boolean; // default: false\r\n      smooth: boolean; // default: false\r\n      lineWidth: number; // default: 1.5, 선 굵기\r\n      dashStyle: string; // default: null\r\n      /*\r\n      * (선, 공백) repeat\r\n      * (5, 3, 2, 3) 이런식으로 가능\r\n      */\r\n    };\r\n  };\r\n  yAxisOptions?: Array<YAxisOption>;\r\n  yAxisLabel?: string;\r\n  xAxisOption?: XAxisOption;\r\n  xAxisLabel?: string;\r\n  onClick?: (data: any, event: any) => void;\r\n  onFilterChanged?: (chart: any) => void;\r\n  onClickEvent?: any;\r\n  dimension?: any;\r\n  group?: any;\r\n  tooltip?: any;\r\n  highlight?: Array<{\r\n    domain: Array<any>; // [min, max]\r\n    color: string; // default: blue\r\n    label: string; // default: '',  highlight label\r\n    opacity: number; // (0~1, default: .3): 투명도\r\n  }>;\r\n  elasticLeftMargin = true;\r\n  elasticRightMargin = true;\r\n\r\n  chart: any;\r\n  gap: any;\r\n  order: any;\r\n  height: any;\r\n  width: any;\r\n  margins: any;\r\n  axisOption: any;\r\n  filters: any;\r\n  private _legendObj?: any = {};\r\n\r\n  constructor(chartOption?: any) {\r\n    const defaultOption = {\r\n      cloudChart: ['type', 'onClick', 'onClickEvent', 'onFilterChanged', 'legends', 'colors', 'padding', 'dimension', 'group', 'tooltip'],\r\n      pieChart: ['type', 'onClick', 'onClickEvent', 'onFilterChanged', 'legends', 'colors', 'slicesCap', 'slicesPercent', 'radius',\r\n        'externalLabels', 'innerRadius', 'dimension', 'group', 'tooltip'],\r\n      composite: ['type', 'onClick', 'onClickEvent', 'onFilterChanged', 'legends', 'colors', 'seriesTypes', 'yAxisOptions', 'yAxisLabel',\r\n        'xAxisOption', 'xAxisLabel', 'dimension', 'group', 'tooltip', 'seriesOptions', 'margins', 'highlight', 'elasticLeftMargin',\r\n        'elasticRightMargin']\r\n    };\r\n\r\n    if (chartOption && chartOption.type) {\r\n      // @ts-ignore\r\n      if (defaultOption[chartOption.type]) {\r\n        // @ts-ignore\r\n        defaultOption[chartOption.type].forEach(field => {\r\n          // @ts-ignore\r\n          if (chartOption[field] !== undefined) {\r\n            // @ts-ignore\r\n            this[field] = chartOption[field];\r\n          }\r\n        });\r\n      }\r\n\r\n      if (chartOption.type === DjChartType.DC_CHART) {\r\n        Object.keys(chartOption).forEach(key => {\r\n          // @ts-ignore\r\n          this[key] = chartOption[key];\r\n        });\r\n      }\r\n\r\n      if (chartOption.data) {\r\n        this.setData(chartOption.data);\r\n      }\r\n    }\r\n  }\r\n\r\n  setData(data?: Array<any>) {\r\n    if (this.type === DjChartType.COMPOSITE && this.xAxisOption && this.xAxisOption.type === 'date') {\r\n      this.data = data;\r\n      this.data.forEach((d: any) => {\r\n        // @ts-ignore\r\n        d.key[1] = moment(d.key[1], this.xAxisOption.dateFormat).toDate();\r\n      });\r\n    } else {\r\n      this.data = data;\r\n    }\r\n  }\r\n\r\n  setAxisOption() {\r\n    if (this.yAxisOptions) {\r\n      let data: Array<any>;\r\n      const seriesTypes = this.seriesTypes || {};\r\n      const axisOption: Array<any> = [];\r\n      if (this.data !== undefined) {\r\n        data = this.data;\r\n      } else {\r\n        data = this.group().all();\r\n      }\r\n\r\n      this.yAxisOptions.forEach(axis => {\r\n        // @ts-ignore\r\n        const filterData = data.filter((d: any) => {\r\n          if (axis.keys.indexOf(d.key[0]) > -1) {\r\n            return true;\r\n          }\r\n        });\r\n        const max = d3.max(filterData, d => d.value);\r\n        const min = d3.min(filterData, d => d.value) || 0;\r\n\r\n        axis.keys.forEach((key, i) => {\r\n          const _option = <AxisOption><unknown>{\r\n            axisLabel: axis.axisLabel,\r\n            domain: axis.domain ? axis.domain : [min, max],\r\n            hide: i,\r\n            series: key,\r\n            type: seriesTypes[key] || 'line',\r\n            size: axis.size || 6,\r\n          };\r\n\r\n          if (this.seriesOptions && this.seriesOptions[key]) {\r\n            Object.keys(this.seriesOptions[key]).forEach(op => {\r\n              // @ts-ignore\r\n              _option[op] = this.seriesOptions[key][op];\r\n            });\r\n          }\r\n\r\n          if (this.colors && this.colors[key]) {\r\n            _option['color'] = this.colors[key];\r\n          }\r\n          if (axis.prevTickText || axis.nextTickText) {\r\n            _option['tickFormat'] = (d: any) => {\r\n              let tick = '';\r\n              if (axis.prevTickText) {\r\n                tick += axis.prevTickText;\r\n              }\r\n              tick += this.commaSeparateNumber(d) || 0;\r\n              if (axis.nextTickText) {\r\n                tick += axis.nextTickText;\r\n              }\r\n\r\n              return tick;\r\n            };\r\n          }\r\n          if (axis.tickFormat) {\r\n            _option['tickFormat'] = axis.tickFormat;\r\n          }\r\n          axisOption.push(new AxisOption(_option));\r\n        });\r\n      });\r\n\r\n      return this.axisOption = axisOption;\r\n    }\r\n    return this.axisOption = [];\r\n  }\r\n\r\n  getKeys() {\r\n    const keys = this.data.map((d: any) => {\r\n      if (Array.isArray(d.key)) {\r\n        return d.key[0];\r\n      }\r\n      return d.key;\r\n    });\r\n    return _.uniq(keys);\r\n  }\r\n\r\n  getLegends() {\r\n    if (!this._legendObj) {\r\n      this.setLegendObj();\r\n    }\r\n    return this._legendObj;\r\n  }\r\n\r\n  setFilters(filters?: any) {\r\n    this.setLegendObj();\r\n  }\r\n\r\n  filterAll() {\r\n    this.chart.filterAll();\r\n  }\r\n\r\n  private setLegendObj() {\r\n    this._legendObj = [];\r\n    this.getKeys().forEach(key => {\r\n      const legend = {\r\n        key: key,\r\n        // @ts-ignore\r\n        name: this.legends[key] || key,\r\n        filter: () => this.chart.filter(key),\r\n        color: () => {\r\n          const defaultColor = this.chart.getColor(key);\r\n          // @ts-ignore\r\n          return this.colors ? this.colors[key] || defaultColor : defaultColor;\r\n        }\r\n      };\r\n      this._legendObj.push(legend);\r\n    });\r\n  }\r\n\r\n  private commaSeparateNumber (value: any) {\r\n    if (!value) {\r\n      return '';\r\n    }\r\n    while (/(\\d+)(\\d{3})/.test(value.toString())) {\r\n      value = value.toString().replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, '$1,');\r\n    }\r\n    return value;\r\n  }\r\n}\r\n","/*\n * Public API Surface of angular-dj-chart\n */\n\nexport * from './lib/angular-dj-chart.service';\nexport * from './lib/angular-dj-chart.component';\nexport * from './lib/angular-dj-chart.module';\nexport * from './lib/class/dj-chart-option';\nexport * from './lib/class/axis-option';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["Injectable","dc","constants","utils","pluck","printers","dispatch","instanceOfChart","select","registerChart","redrawAll","renderAll","events","deregisterChart","logger","_d3Cloud","d3","_","scaleOrdinal","min","max","scaleQuantize","interpolateHcl","schemeCategory10","axisBottom","units","timeDay","brushX","zoom","scaleBand","transition","axisRight","axisLeft","scaleLinear","filters","optionalTransition","zoomIdentity","EventEmitter","isArray","moment","Component","Input","Output","NgModule","_moment"],"mappings":"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"}